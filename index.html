<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATHENA Complete Generator - Revolution Trading Pros</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 42px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 20px;
            opacity: 0.95;
        }
        
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            padding: 40px;
        }
        
        .content-area {
            order: 1;
        }
        
        .sidebar {
            order: 2;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .phase-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }
        
        .phase-tab {
            padding: 12px 24px;
            background: #f0f0f0;
            border: none;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            color: #666;
        }
        
        .phase-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .phase-tab:hover:not(.active) {
            background: #e0e0e0;
        }
        
        .phase-content {
            display: none;
        }
        
        .phase-content.active {
            display: block;
        }
        
        .wp-settings {
            background: #e8f4fd;
            border: 2px solid #2196f3;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .wp-settings h3 {
            color: #1976d2;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .existing-posts {
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
        }
        
        .existing-posts h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
            position: sticky;
            top: 0;
            background: white;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        
        .post-item {
            padding: 10px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .post-item:hover {
            background: #f8f9fa;
        }
        
        .post-item:last-child {
            border-bottom: none;
        }
        
        .post-title {
            color: #333;
            font-weight: 500;
            margin-bottom: 3px;
        }
        
        .post-date {
            color: #999;
            font-size: 12px;
        }
        
        .post-count {
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            float: right;
        }
        
        .duplicate-warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
        }
        
        .duplicate-warning h4 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .similar-posts {
            margin-top: 10px;
        }
        
        .similar-post {
            padding: 8px;
            background: white;
            border-radius: 4px;
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .instructions {
            background: #e8f4fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .instructions h3 {
            color: #1976d2;
            margin-bottom: 15px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 14px;
        }
        
        input[type="text"], input[type="url"], input[type="password"], select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .small-input {
            padding: 8px;
            font-size: 14px;
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .large-textarea {
            min-height: 400px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
        
        .output-textarea {
            min-height: 600px;
            background: #f8f9fa;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
        }
        
        .connect-btn {
            background: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            font-weight: 600;
        }
        
        .connect-btn:hover {
            background: #1976d2;
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .action-btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .copy-btn {
            background: #28a745;
            color: white;
        }
        
        .copy-btn:hover {
            background: #218838;
        }
        
        .claude-btn {
            background: #ff6b35;
            color: white;
        }
        
        .claude-btn:hover {
            background: #ff5722;
        }
        
        .download-btn {
            background: #007bff;
            color: white;
        }
        
        .download-btn:hover {
            background: #0056b3;
        }
        
        .status {
            padding: 12px;
            border-radius: 6px;
            margin: 15px 0;
            text-align: center;
            display: none;
        }
        
        .status.show { display: block; }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .output-section {
            display: none;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e0e0e0;
        }
        
        .output-section.show {
            display: block;
        }
        
        .workflow-arrow {
            text-align: center;
            margin: 30px 0;
            font-size: 24px;
            color: #667eea;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }
        
        .meta-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 1200px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: 1;
                position: static;
                margin-bottom: 30px;
            }
            
            .content-area {
                order: 2;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ö° ATHENA Complete Generator</h1>
            <p>Billy Ribeiro Content System - Google 2025 Optimized</p>
        </div>
        
        <div class="main-layout">
            <div class="content-area">
                <div class="phase-tabs">
                    <button class="phase-tab active" onclick="switchPhase('phase1', event)">
                        Phase 1: Generate Prompt
                    </button>
                    <button class="phase-tab" onclick="switchPhase('phase2', event)">
                        Phase 2: Apply Template
                    </button>
                </div>
                
                <!-- PHASE 1 CONTENT -->
                <div id="phase1" class="phase-content active">
                    <div class="instructions">
                        <h3>üìã Phase 1: Generate Content Prompt</h3>
                        <ol>
                            <li>Enter your blog topic and primary keyword</li>
                            <li>Check for duplicates in your existing posts (sidebar)</li>
                            <li>Click "Generate Phase 1 Prompt"</li>
                            <li>Copy the prompt and paste into Claude.ai</li>
                            <li>Claude will generate {{TAGGED}} content</li>
                            <li>Come back and switch to Phase 2</li>
                        </ol>
                    </div>
                    
                    <div class="form-group">
                        <label for="topic">üìù Blog Topic</label>
                        <input 
                            type="text" 
                            id="topic" 
                            placeholder="e.g., 3 Best Scalping Strategies for Beginners 2025"
                            oninput="checkForDuplicates()"
                        >
                    </div>
                    
                    <div id="duplicateWarning" class="duplicate-warning">
                        <h4>‚ö†Ô∏è Similar Posts Found!</h4>
                        <div id="similarPosts" class="similar-posts"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="keyword">üéØ Primary Keyword (for SEO)</label>
                        <input 
                            type="text" 
                            id="keyword" 
                            placeholder="e.g., scalping strategies beginners"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="searchIntent">üîç Search Intent (Optional)</label>
                        <textarea 
                            id="searchIntent" 
                            placeholder="e.g., User wants actionable strategies to grow a small trading account"
                        ></textarea>
                    </div>
                    
                    <button class="generate-btn" onclick="generatePhase1Prompt()">
                        üöÄ Generate Phase 1 Prompt
                    </button>
                    
                    <div id="phase1Status" class="status"></div>
                    
                    <div id="phase1Output" class="output-section">
                        <h3>üìÑ Your Phase 1 Prompt</h3>
                        <p style="margin: 10px 0; color: #666;">Copy this and paste into Claude.ai:</p>
                        <textarea id="promptOutput" class="output-textarea" readonly></textarea>
                        
                        <div class="button-group">
                            <button class="action-btn copy-btn" onclick="copyContent('promptOutput')">
                                üìã Copy Prompt
                            </button>
                            <button class="action-btn claude-btn" onclick="openClaude()">
                                ü§ñ Open Claude.ai
                            </button>
                        </div>
                        
                        <div class="workflow-arrow">‚¨áÔ∏è</div>
                        <p style="text-align: center; color: #666;">After getting tagged content from Claude, click Phase 2 above</p>
                    </div>
                </div>
                
                <!-- PHASE 2 CONTENT -->
                <div id="phase2" class="phase-content">
                    <div class="instructions">
                        <h3>üìã Phase 2: Convert to HTML</h3>
                        <ol>
                            <li>Paste the {{TAGGED}} content from Claude</li>
                            <li>Add meta description and slug (optional)</li>
                            <li>Click "Generate Complete HTML"</li>
                            <li>Copy HTML and paste into WordPress</li>
                        </ol>
                    </div>
                    
                    <div class="form-group">
                        <label for="taggedContent">üìù Paste Tagged Content from Claude</label>
                        <textarea 
                            id="taggedContent" 
                            class="large-textarea"
                            placeholder="{{TITLE}}: Your title here&#10;{{TAKEAWAY_1}}: Your takeaway here&#10;{{SECTION_1_H2}}: Your section title&#10;{{SECTION_1_CONTENT}}: Your content here&#10;..."
                        ></textarea>
                    </div>
                    
                    <div class="meta-grid">
                        <div class="form-group">
                            <label for="metaDescription">üîç Meta Description (150-160 chars)</label>
                            <input 
                                type="text" 
                                id="metaDescription" 
                                placeholder="Auto-generated if left blank"
                                maxlength="160"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="slug">üîó URL Slug</label>
                            <input 
                                type="text" 
                                id="slug" 
                                placeholder="auto-generated-from-title"
                            >
                        </div>
                    </div>
                    
                    <button class="generate-btn" onclick="generateHTML()">
                        üöÄ Generate Complete HTML
                    </button>
                    
                    <div id="phase2Status" class="status"></div>
                    
                    <div id="phase2Output" class="output-section">
                        <h3>‚úÖ Your Complete HTML Blog Post</h3>
                        <p style="margin: 10px 0; color: #666;">Ready to paste into WordPress (Text/HTML editor):</p>
                        <textarea id="htmlOutput" class="output-textarea" readonly></textarea>
                        
                        <div class="button-group">
                            <button class="action-btn copy-btn" onclick="copyContent('htmlOutput')">
                                üìã Copy HTML
                            </button>
                            <button class="action-btn download-btn" onclick="downloadHTML()">
                                üíæ Download HTML
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SIDEBAR WITH WORDPRESS CONNECTION -->
            <div class="sidebar">
                <div class="wp-settings">
                    <h3>üîó WordPress Connection (Optional)</h3>
                    
                    <div class="form-group">
                        <label>Site URL</label>
                        <input 
                            type="url" 
                            id="wpUrl" 
                            placeholder="https://yoursite.com"
                            class="small-input"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label>REST API Method</label>
                        <select id="authMethod" class="small-input" onchange="toggleAuthFields()">
                            <option value="public">Public (No Auth)</option>
                            <option value="app_password">Application Password</option>
                        </select>
                    </div>
                    
                    <div id="authFields" style="display: none;">
                        <div class="form-group">
                            <label>Username</label>
                            <input 
                                type="text" 
                                id="wpUsername" 
                                placeholder="Your username"
                                class="small-input"
                            >
                        </div>
                        
                        <div class="form-group">
                            <label>Application Password</label>
                            <input 
                                type="password" 
                                id="wpPassword" 
                                placeholder="Application password"
                                class="small-input"
                            >
                            <small style="color: #666; font-size: 12px;">
                                Get from: Users ‚Üí Profile ‚Üí Application Passwords
                            </small>
                        </div>
                    </div>
                    
                    <button class="connect-btn" onclick="connectToWordPress()">
                        üîå Connect to WordPress
                    </button>
                    
                    <div id="wpStatus" class="status"></div>
                </div>
                
                <div class="existing-posts" id="existingPosts">
                    <h4>
                        üìö Your Blog Posts
                        <span class="post-count" id="postCount">0 posts</span>
                    </h4>
                    <div id="postsList">
                        <p style="color: #999; text-align: center; padding: 20px;">
                            Connect to WordPress to see your existing posts
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let allPosts = [];
        let wpConnected = false;
        
        // Toggle authentication fields
        function toggleAuthFields() {
            const method = document.getElementById('authMethod').value;
            const authFields = document.getElementById('authFields');
            authFields.style.display = method === 'app_password' ? 'block' : 'none';
        }
        
        // Connect to WordPress
        async function connectToWordPress() {
            const wpUrl = document.getElementById('wpUrl').value.trim();
            const authMethod = document.getElementById('authMethod').value;
            
            if (!wpUrl) {
                showStatus('wpStatus', 'error', 'Please enter your WordPress site URL');
                return;
            }
            
            showStatus('wpStatus', 'info', 'Connecting to WordPress...');
            
            try {
                const baseUrl = wpUrl.replace(/\/+$/, '');
                const apiUrl = baseUrl + '/wp-json/wp/v2/posts?per_page=100&orderby=date&order=desc';
                
                let headers = {};
                
                if (authMethod === 'app_password') {
                    const username = document.getElementById('wpUsername').value.trim();
                    const password = document.getElementById('wpPassword').value.trim();
                    
                    if (!username || !password) {
                        showStatus('wpStatus', 'error', 'Please enter username and password');
                        return;
                    }
                    
                    const auth = btoa(username + ':' + password);
                    headers['Authorization'] = 'Basic ' + auth;
                }
                
                const response = await fetch(apiUrl, { headers });
                
                if (!response.ok) {
                    throw new Error('HTTP ' + response.status);
                }
                
                const posts = await response.json();
                allPosts = posts;
                wpConnected = true;
                
                displayPosts(posts);
                
                // Save settings
                localStorage.setItem('wp_url', wpUrl);
                localStorage.setItem('wp_auth_method', authMethod);
                if (authMethod === 'app_password') {
                    localStorage.setItem('wp_username', document.getElementById('wpUsername').value);
                }
                
                showStatus('wpStatus', 'success', 'Connected! Found ' + posts.length + ' posts');
                
            } catch (error) {
                console.error('WordPress connection error:', error);
                showStatus('wpStatus', 'error', 'Failed to connect. Check URL and try Public method first.');
                wpConnected = false;
            }
        }
        
        // Display posts in sidebar
        function displayPosts(posts) {
            const postsList = document.getElementById('postsList');
            const postCount = document.getElementById('postCount');
            
            postCount.textContent = posts.length + ' posts';
            
            if (posts.length === 0) {
                postsList.innerHTML = '<p style="color: #999; text-align: center;">No posts found</p>';
                return;
            }
            
            let postsHTML = '';
            for (let i = 0; i < posts.length; i++) {
                const post = posts[i];
                const date = new Date(post.date).toLocaleDateString();
                const title = post.title.rendered || 'Untitled';
                const escapedTitle = title.replace(/'/g, "\\'");
                
                postsHTML += '<div class="post-item" onclick="selectPost(\'' + escapedTitle + '\')">';
                postsHTML += '<div class="post-title">' + title + '</div>';
                postsHTML += '<div class="post-date">' + date + '</div>';
                postsHTML += '</div>';
            }
            
            postsList.innerHTML = postsHTML;
        }
        
        // Select a post from the list
        function selectPost(title) {
            document.getElementById('topic').value = title;
            checkForDuplicates();
        }
        
        // Check for duplicate posts
        function checkForDuplicates() {
            const topic = document.getElementById('topic').value.trim().toLowerCase();
            
            if (!topic || !wpConnected || allPosts.length === 0) {
                document.getElementById('duplicateWarning').style.display = 'none';
                return;
            }
            
            // Find similar posts
            const similarPosts = [];
            for (let i = 0; i < allPosts.length; i++) {
                const post = allPosts[i];
                const postTitle = (post.title.rendered || '').toLowerCase();
                
                // Check for exact match
                if (postTitle === topic) {
                    similarPosts.push(post);
                    continue;
                }
                
                // Check if titles share significant words
                const topicWords = topic.split(' ').filter(word => word.length > 3);
                const titleWords = postTitle.split(' ').filter(word => word.length > 3);
                
                let matchingWords = 0;
                for (let j = 0; j < topicWords.length; j++) {
                    for (let k = 0; k < titleWords.length; k++) {
                        if (titleWords[k].includes(topicWords[j]) || topicWords[j].includes(titleWords[k])) {
                            matchingWords++;
                            break;
                        }
                    }
                }
                
                if (matchingWords >= Math.min(2, topicWords.length * 0.5)) {
                    similarPosts.push(post);
                }
            }
            
            if (similarPosts.length > 0) {
                const warningDiv = document.getElementById('duplicateWarning');
                const similarPostsDiv = document.getElementById('similarPosts');
                
                warningDiv.style.display = 'block';
                
                let similarHTML = '';
                const maxShow = Math.min(5, similarPosts.length);
                for (let i = 0; i < maxShow; i++) {
                    similarHTML += '<div class="similar-post">‚Ä¢ ' + similarPosts[i].title.rendered + '</div>';
                }
                
                similarPostsDiv.innerHTML = similarHTML;
                
                showStatus('phase1Status', 'info', 'Found ' + similarPosts.length + ' similar post(s)');
            } else {
                document.getElementById('duplicateWarning').style.display = 'none';
            }
        }
        
        // Switch between phases
        function switchPhase(phase, event) {
            // Update tabs
            const tabs = document.querySelectorAll('.phase-tab');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            event.target.classList.add('active');
            
            // Update content
            const contents = document.querySelectorAll('.phase-content');
            for (let i = 0; i < contents.length; i++) {
                contents[i].classList.remove('active');
            }
            document.getElementById(phase).classList.add('active');
        }
        
        // Generate Phase 1 Prompt
        function generatePhase1Prompt() {
            const topic = document.getElementById('topic').value.trim();
            const keyword = document.getElementById('keyword').value.trim();
            const searchIntent = document.getElementById('searchIntent').value.trim();
            
            if (!topic || !keyword) {
                showStatus('phase1Status', 'error', 'Please enter both topic and keyword');
                return;
            }
            
            const prompt = '# Phase 1: Billy Ribeiro Content Framework v2.0 (Google 2025 Optimized)\n\n## Core Identity & Guiding Principles\n\n### Core Identity\nYou are Athena writing as Billy Ribeiro, a globally recognized trader and market strategist. You were personally mentored by the legendary Mark McGoldrick ("Goldfinger"). Your content is contrarian, brutally honest, and backed by verifiable experience. You don\'t sell hype; you teach the hard-won principles of professional trading.\n\n### Hard Rules & Google 2025 Alignment\n\n**Human-First Content:** Your primary goal is to create the most helpful, satisfying, and authoritative resource on the topic for a human reader. Answer their questions completely and provide a uniquely valuable experience.\n\n**Demonstrate E-E-A-T:** Explicitly show Experience, Expertise, Authoritativeness, and Trust. Go beyond generic information and provide insights that could only come from years of professional trading.\n\n**YMYL (Your Money or Your Life) Guardrails:**\n- Do NOT give direct financial advice or make specific buy/sell recommendations\n- NEVER guarantee profits or use words like "guaranteed" or "no-risk"\n- ALWAYS include a prominent risk disclaimer\n\n## Content Requirements & Structure\n\n### Writing Requirements\n- Write in the first person ("I," "my") as Billy Ribeiro\n- Reference your "15+ years of trading" and "mentoring thousands of traders" where it adds context\n- Mention your proprietary system, "The Move Prior to The Move," where relevant\n- Include personal anecdotes, specific percentages, and real (or realistic) trade examples\n- Create comprehensive, definitive content (2,500+ words minimum)\n- Bold key terms and important, contrarian statements\n- Structure content with clear subsections that can become H3 and H4 headings\n\n## TOPIC: ' + topic + '\n## PRIMARY KEYWORD: ' + keyword + '\n## SEARCH INTENT: ' + (searchIntent || 'User wants actionable strategies and practical knowledge, not just definitions') + '\n\n## Required Content Structure\n\nYou must output the following sections using the exact {{TAGS}} format. Each tag should be on its own line, followed by a colon and the content.\n\n### 1. METADATA\n{{TITLE}}: [Create an engaging, SEO-optimized title that includes the year "2025"]\n{{SEARCH_INTENT}}: [Describe the user\'s primary goal based on the topic]\n{{HERO_IMAGE_DESC}}: [Detailed description for hero image creation, conveying expertise and intensity]\n{{KEYWORDS}}: [List the primary keyword, 5-7 secondary keywords, and 5 long-tail questions]\n\n### 2. INTRODUCTION\n{{INTRODUCTION}}: [Write a compelling 2-3 paragraph introduction that opens with a contrarian statement, establishes authority, and previews what will be covered]\n\n### 3. BILLY\'S KEY TAKEAWAYS (Minimum 6)\n{{TAKEAWAY_1}}: [Bold contrarian statement] | [1-2 sentence explanation in Billy\'s voice]\n{{TAKEAWAY_2}}: [Bold contrarian statement] | [1-2 sentence explanation in Billy\'s voice]\n{{TAKEAWAY_3}}: [Bold contrarian statement] | [1-2 sentence explanation in Billy\'s voice]\n{{TAKEAWAY_4}}: [Bold contrarian statement] | [1-2 sentence explanation in Billy\'s voice]\n{{TAKEAWAY_5}}: [Bold contrarian statement] | [1-2 sentence explanation in Billy\'s voice]\n{{TAKEAWAY_6}}: [Bold contrarian statement] | [1-2 sentence explanation in Billy\'s voice]\n\n### 4. MAIN CONTENT SECTIONS (Minimum 5)\nFor each section, include subsections with clear headings that can become H3/H4 elements.\nUse formats like "Step 1:", "1.", or bold subsection titles.\n\n{{SECTION_1_H2}}: [Create a compelling H2 title for the first section]\n{{SECTION_1_CONTENT}}: [Full content with subsections marked as "**Subsection Title:**" or "Step X:" or numbered points]\n\n{{SECTION_2_H2}}: [Create a compelling H2 title for the second section]\n{{SECTION_2_CONTENT}}: [Full content with clear subsection structure]\n\n{{SECTION_3_H2}}: [Create a compelling H2 title for the third section]\n{{SECTION_3_CONTENT}}: [Full content with clear subsection structure]\n\n{{SECTION_4_H2}}: [Create a compelling H2 title for the fourth section]\n{{SECTION_4_CONTENT}}: [Full content with clear subsection structure]\n\n{{SECTION_5_H2}}: [Create a compelling H2 title for the fifth section]\n{{SECTION_5_CONTENT}}: [Full content with clear subsection structure]\n\n### 5. BILLY\'S TAKES (Minimum 3)\n{{BILLY_TAKE_1}}: [Personal insight or strategy] | [After which section to place]\n{{BILLY_TAKE_2}}: [Personal insight or strategy] | [After which section to place]\n{{BILLY_TAKE_3}}: [Personal insight or strategy] | [After which section to place]\n\n### 6. SPECIAL ELEMENTS (Value-Add & Engagement)\n{{BILLY_DEEP_DIVE}}: [A consolidated, highly contrarian take on the article\'s main topic]\n\n{{CRITICAL_WARNING}}: [Title of Warning] | [Clear, direct warning message]\n\n{{INTERACTIVE_ELEMENT}}: [Propose a simple quiz or calculator concept]\n\n{{VIDEO_CONCEPT}}: [Propose a 90-second video concept for Billy]\n\n### 7. PERSONAL EVOLUTION\n{{PERSONAL_EVOLUTION}}: [Share your journey with this topic - failures, breakthroughs, and what Mark McGoldrick taught you]\n\n### 8. FAQ SECTION (Minimum 10)\n{{FAQ_Q1}}: [Question 1]\n{{FAQ_A1}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q2}}: [Question 2]\n{{FAQ_A2}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q3}}: [Question 3]\n{{FAQ_A3}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q4}}: [Question 4]\n{{FAQ_A4}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q5}}: [Question 5]\n{{FAQ_A5}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q6}}: [Question 6]\n{{FAQ_A6}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q7}}: [Question 7]\n{{FAQ_A7}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q8}}: [Question 8]\n{{FAQ_A8}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q9}}: [Question 9]\n{{FAQ_A9}}: [Comprehensive answer in Billy\'s voice]\n{{FAQ_Q10}}: [Question 10]\n{{FAQ_A10}}: [Comprehensive answer in Billy\'s voice]\n\n### 9. IMAGE SPECIFICATIONS (Minimum 5)\n{{IMAGE_1_DESC}}: [Detailed description]\n{{IMAGE_1_TITLE}}: [SEO-optimized title]\n{{IMAGE_1_ALT}}: [Descriptive alt text]\n{{IMAGE_1_CONTEXT}}: [Where to place in content]\n\n{{IMAGE_2_DESC}}: [Detailed description]\n{{IMAGE_2_TITLE}}: [SEO-optimized title]\n{{IMAGE_2_ALT}}: [Descriptive alt text]\n{{IMAGE_2_CONTEXT}}: [Where to place in content]\n\n{{IMAGE_3_DESC}}: [Detailed description]\n{{IMAGE_3_TITLE}}: [SEO-optimized title]\n{{IMAGE_3_ALT}}: [Descriptive alt text]\n{{IMAGE_3_CONTEXT}}: [Where to place in content]\n\n{{IMAGE_4_DESC}}: [Detailed description]\n{{IMAGE_4_TITLE}}: [SEO-optimized title]\n{{IMAGE_4_ALT}}: [Descriptive alt text]\n{{IMAGE_4_CONTEXT}}: [Where to place in content]\n\n{{IMAGE_5_DESC}}: [Detailed description]\n{{IMAGE_5_TITLE}}: [SEO-optimized title]\n{{IMAGE_5_ALT}}: [Descriptive alt text]\n{{IMAGE_5_CONTEXT}}: [Where to place in content]\n\n## Important Instructions:\n- Output ONLY the tagged content, no additional commentary\n- Make every section comprehensive and specific\n- Use real examples with numbers, tickers, and timestamps\n- Structure content with clear subsections for H3/H4 hierarchy\n- Maintain Billy\'s contrarian, experienced voice throughout\n- Each FAQ answer should be substantial (2-3 sentences minimum)\n- Include specific trade examples with entry/exit prices\n- Reference current year (2025) naturally in content\n\nCreate comprehensive, E-E-A-T optimized content that provides genuine value while maintaining Billy\'s contrarian, experienced voice.';
            
            document.getElementById('promptOutput').value = prompt;
            document.getElementById('phase1Output').classList.add('show');
            document.getElementById('phase1Output').scrollIntoView({ behavior: 'smooth' });
            
            showStatus('phase1Status', 'success', 'Phase 1 prompt generated! Copy and paste into Claude.');
        }
        
        // Parse tagged content
        function parseTaggedContent(content) {
            const tags = {};
            const regex = /\{\{([^}]+)\}\}:\s*([^{]*(?:\{[^}]*\}[^{]*)*?)(?=\{\{|$)/gs;
            let match;
            
            while ((match = regex.exec(content)) !== null) {
                const tagName = match[1].trim();
                const tagContent = match[2].trim();
                tags[tagName] = tagContent;
            }
            
            return tags;
        }
        
        // Generate slug
        function generateSlug(title) {
            return title
                .toLowerCase()
                .replace(/[^\w\s-]/g, '')
                .replace(/\s+/g, '-')
                .replace(/--+/g, '-')
                .trim();
        }
        
        // Process content to add H3 and H4 headings
        function processContentWithHeadings(content) {
            if (!content) return '';
            
            const lines = content.split('\n');
            let processedContent = '';
            
            for (let i = 0; i < lines.length; i++) {
                let line = lines[i];
                
                // Check for H3 patterns (main subsections)
                const h3Match = line.match(/^\*\*(.+?):\*\*/);
                if (h3Match) {
                    processedContent += '</p><h3 style="margin-top: 30px; margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat;">' + h3Match[1] + '</span></h3><p><span style="color: #333333; font-family: Montserrat;">';
                    line = line.replace(/^\*\*(.+?):\*\*/, '');
                }
                
                // Check for H4 patterns (numbered steps or bullet points with bold)
                const h4Match = line.match(/^(\d+)\.\s+\*\*(.+?)\*\*/);
                if (h4Match) {
                    processedContent += '</p><h4 style="margin-top: 20px; margin-bottom: 10px;"><span style="color: #333333; font-family: Montserrat;">' + h4Match[1] + '. ' + h4Match[2] + '</span></h4><p><span style="color: #333333; font-family: Montserrat;">';
                    line = line.replace(/^(\d+)\.\s+\*\*(.+?)\*\*:?/, '');
                }
                
                // Check for Step patterns
                const stepMatch = line.match(/^(Step\s+\d+:)\s*(.+?)$/i);
                if (stepMatch) {
                    processedContent += '</p><h4 style="margin-top: 20px; margin-bottom: 10px;"><span style="color: #333333; font-family: Montserrat;">' + stepMatch[1] + ' ' + stepMatch[2] + '</span></h4><p><span style="color: #333333; font-family: Montserrat;">';
                    line = '';
                }
                
                // Handle regular content
                if (line.trim()) {
                    // Convert remaining bold text
                    line = line.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
                    processedContent += line + '<br>';
                } else if (processedContent && !processedContent.endsWith('</p>')) {
                    processedContent += '</span></p><p><span style="color: #333333; font-family: Montserrat;">';
                }
            }
            
            return processedContent;
        }
        
        // Generate HTML from tagged content - COMPLETELY FIXED VERSION
        function generateHTML() {
            const taggedContent = document.getElementById('taggedContent').value.trim();
            
            if (!taggedContent) {
                showStatus('phase2Status', 'error', 'Please paste the tagged content from Phase 1');
                return;
            }
            
            const tags = parseTaggedContent(taggedContent);
            
            if (!tags.TITLE) {
                showStatus('phase2Status', 'error', 'Missing {{TITLE}} tag in content');
                return;
            }
            
            let metaDescription = document.getElementById('metaDescription').value.trim();
            if (!metaDescription && tags.SEARCH_INTENT) {
                metaDescription = tags.SEARCH_INTENT.substring(0, 160);
            } else if (!metaDescription) {
                metaDescription = 'Professional trading strategies and insights from Billy Ribeiro, globally recognized trader and market strategist.';
            }
            
            let slug = document.getElementById('slug').value.trim();
            if (!slug) {
                slug = generateSlug(tags.TITLE);
            }
            
            const keywords = tags.KEYWORDS || tags.TITLE.toLowerCase();
            const currentDate = new Date().toISOString();
            
            // Create takeaways HTML
            let takeawaysHTML = '';
            for (let i = 1; i <= 6; i++) {
                const takeaway = tags['TAKEAWAY_' + i];
                if (takeaway) {
                    const parts = takeaway.split(' | ');
                    const statement = parts[0] || '';
                    const explanation = parts[1] || '';
                    takeawaysHTML += '<li style="margin-bottom: 12px;"><span style="color: #333333; font-family: Montserrat;"><strong>' + statement + '</strong> ' + explanation + '</span></li>\n        ';
                }
            }
            
            // Create main content sections HTML
            let contentSectionsHTML = '';
            for (let i = 1; i <= 5; i++) {
                const h2 = tags['SECTION_' + i + '_H2'];
                const content = tags['SECTION_' + i + '_CONTENT'];
                if (h2 && content) {
                    const processedContent = processContentWithHeadings(content);
                    contentSectionsHTML += '\n<section style="margin-top: 40px;">\n    <h2 style="margin-bottom: 20px;"><span style="color: #333333; font-family: Montserrat;">' + h2 + '</span></h2>\n    <p><span style="color: #333333; font-family: Montserrat;">' + processedContent + '</span></p>\n</section>';
                }
            }
            
            // Create Billy's Takes HTML
            let billyTakesHTML = '';
            for (let i = 1; i <= 3; i++) {
                const take = tags['BILLY_TAKE_' + i];
                if (take) {
                    const parts = take.split(' | ');
                    const insight = parts[0] || '';
                    billyTakesHTML += '\n<aside style="background-color: #f7f7f7; border-left: 4px solid #3366ff; padding: 15px; margin: 30px 0; font-style: italic; border-radius: 8px;">\n    <strong style="color: #333333; font-family: Montserrat;">Billy\'s Take:</strong>\n    <span style="color: #333333; font-family: Montserrat;">"' + insight + '"</span>\n</aside>';
                }
            }
            
            // Create FAQ HTML
            let faqHTML = '';
            for (let i = 1; i <= 10; i++) {
                const q = tags['FAQ_Q' + i];
                const a = tags['FAQ_A' + i];
                if (q && a) {
                    faqHTML += '\n    <div style="margin-bottom: 25px;">\n        <h3 style="margin-top: 20px; margin-bottom: 10px;"><span style="color: #333333; font-family: Montserrat;">' + q + '</span></h3>\n        <p><span style="color: #333333; font-family: Montserrat;">' + a + '</span></p>\n    </div>';
                }
            }
            
            // Process optional sections
            let introductionSection = '';
            if (tags.INTRODUCTION) {
                introductionSection = '<!-- INTRODUCTION SECTION -->\n<section>\n    <h2 style="margin-top: 40px; margin-bottom: 20px;"><span style="color: #333333; font-family: Montserrat;">Introduction</span></h2>\n    <p><span style="color: #333333; font-family: Montserrat;">' + tags.INTRODUCTION.replace(/\n/g, '<br>') + '</span></p>\n</section>';
            }
            
            let deepDiveSection = '';
            if (tags.BILLY_DEEP_DIVE) {
                deepDiveSection = '<!-- BILLY\'S DEEP DIVE Section -->\n<section style="background-color: #f7faff; border: 1px solid #cce0ff; border-left: 4px solid #3366ff; padding: 20px 25px; margin: 30px 0; border-radius: 15px;">\n    <h2 style="margin-top: 0; margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat;">Billy\'s Deep Dive</span></h2>\n    <p><span style="color: #333333; font-family: Montserrat;">' + tags.BILLY_DEEP_DIVE + '</span></p>\n</section>';
            }
            
            let warningSection = '';
            if (tags.CRITICAL_WARNING) {
                const parts = tags.CRITICAL_WARNING.split(' | ');
                const title = parts[0] || '';
                const message = parts[1] || '';
                warningSection = '<!-- CRITICAL WARNING Section -->\n<aside style="background-color: #fffbe6; border-left: 4px solid #c0392b; padding: 15px; margin: 30px 0; font-style: italic; border-radius: 8px;">\n    <p style="color: #c0392b; font-weight: bold; margin: 0;">\n        <span style="font-family: Montserrat;">‚ö†Ô∏è ' + title + ': ' + message + '</span>\n    </p>\n</aside>';
            }
            
            let evolutionSection = '';
            if (tags.PERSONAL_EVOLUTION) {
                evolutionSection = '<!-- PERSONAL EVOLUTION Section -->\n<section style="background-color: #f7faff; border: 1px solid #cce0ff; border-left: 4px solid #3366ff; padding: 20px 25px; margin: 30px 0; border-radius: 15px;">\n    <h2 style="margin-top: 0; margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat;">My Personal Evolution</span></h2>\n    <p><span style="color: #333333; font-family: Montserrat;">' + tags.PERSONAL_EVOLUTION + '</span></p>\n</section>';
            }
            
            // Build the complete HTML - PART 1
            let html = '<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>' + tags.TITLE + '</title>\n    <meta name="description" content="' + metaDescription + '">\n    <meta name="keywords" content="' + keywords + '">\n    <link rel="canonical" href="https://revolutiontradingpros.com/' + slug + '/">\n    \n    <!-- Open Graph Meta Tags -->\n    <meta property="og:title" content="' + tags.TITLE + '">\n    <meta property="og:description" content="' + metaDescription + '">\n    <meta property="og:type" content="article">\n    <meta property="og:url" content="https://revolutiontradingpros.com/' + slug + '/">\n    <meta property="og:image" content="https://revolutiontradingpros.com/wp-content/uploads/' + slug + '-hero.jpg">\n    <meta property="og:site_name" content="Revolution Trading Pros">\n    \n    <!-- Twitter Card Meta Tags -->\n    <meta name="twitter:card" content="summary_large_image">\n    <meta name="twitter:site" content="@RevTradingPros">\n    <meta name="twitter:title" content="' + tags.TITLE + '">\n    <meta name="twitter:description" content="' + metaDescription + '">\n    <meta name="twitter:image" content="https://revolutiontradingpros.com/wp-content/uploads/' + slug + '-hero.jpg">\n    \n    <!-- Additional Meta Tags -->\n    <meta name="author" content="Billy Ribeiro">\n    <meta name="robots" content="index, follow">\n    \n    <!-- Schema.org Structured Data -->\n    <script type="application/ld+json">\n    {\n        "@context": "https://schema.org",\n        "@type": "Article",\n        "headline": "' + tags.TITLE + '",\n        "description": "' + metaDescription + '",\n        "image": "https://revolutiontradingpros.com/wp-content/uploads/' + slug + '-hero.jpg",\n        "author": {\n            "@type": "Person",\n            "name": "Billy Ribeiro",\n            "url": "https://revolutiontradingpros.com/about-billy-ribeiro/",\n            "sameAs": [\n                "https://twitter.com/RevTradingPros",\n                "https://www.youtube.com/channel/YourChannel",\n                "https://www.linkedin.com/in/billyribeiro/"\n            ]\n        },\n        "publisher": {\n            "@type": "Organization",\n            "name": "Revolution Trading Pros",\n            "logo": {\n                "@type": "ImageObject",\n                "url": "https://revolutiontradingpros.com/wp-content/uploads/logo.png"\n            }\n        },\n        "datePublished": "' + currentDate + '",\n        "dateModified": "' + currentDate + '",\n        "mainEntityOfPage": {\n            "@type": "WebPage",\n            "@id": "https://revolutiontradingpros.com/' + slug + '/"\n        }\n    }\n    </script>\n</head>\n<body>\n<article itemscope itemtype="https://schema.org/Article" style="font-family: Montserrat, sans-serif; color: #333333;">\n\n<!-- MAIN H1 TITLE (Only ONE per page for SEO) -->\n<header>\n    <h1 itemprop="headline" style="text-align: center; font-family: \'Montserrat\', sans-serif; color: #333333; font-size: 36px; line-height: 1.2; margin-bottom: 20px;">\n        ' + tags.TITLE + '\n    </h1>\n</header>\n\n<!-- HERO IMAGE -->\n<figure style="margin: 0 0 30px 0;">\n    <img itemprop="image" class="wp-image-hero aligncenter" \n         src="' + slug + '-hero.jpg" \n         alt="' + (tags.HERO_IMAGE_DESC || 'Professional trading setup with multiple monitors showing charts and analysis for ' + tags.TITLE) + '" \n         title="' + tags.TITLE + ' - Complete Guide"\n         width="1388" height="926" \n         style="width:100%; height:auto;">\n</figure>\n\n<!-- AUTHOR BIO SECTION -->\n<section itemscope itemprop="author" itemtype="https://schema.org/Person" style="margin-bottom: 30px;">\n    <div style="display: flex; align-items: center; margin-top: 25px; margin-bottom: 25px;">\n        <img itemprop="image" style="width: 80px; height: 80px; border-radius: 50%; margin-right: 15px;" \n             src="https://revolutiontradingpros.com/wp-content/uploads/2025/05/Billy-no-grey-768x768.png.webp" \n             alt="Photo of Billy Ribeiro" />\n        <div>\n            <em><strong itemprop="name">By Billy Ribeiro</strong> | <span itemprop="jobTitle">Globally Recognized Trader & Market Strategist</span></em>\n        </div>\n    </div>\n    \n    <p itemprop="description"><strong>Billy Ribeiro</strong> is a globally recognized trader renowned for his mastery of price action analysis and innovative trading strategies. He was personally mentored by Mark McGoldrick, famously known as "Goldfinger," Goldman Sachs\'s most successful investor in history. McGoldrick described Billy Ribeiro as "The Future of Trading," a testament to his extraordinary talent. His groundbreaking system, "The Move Prior to The Move," enables him to anticipate market trends with unmatched accuracy, establishing him as a true pioneer in the trading world.</p>\n    \n    <!-- SOCIAL LINKS -->\n    <div style="display: flex; align-items: center; gap: 15px; margin-top: 15px; margin-bottom: 30px;">\n        <span style="display: inline-flex; align-items: center; font-weight: bold;">Connect with Billy:</span>\n        <a style="display: inline-flex; align-items: center; text-decoration: none; color: #0077b5; font-size: 24px;" href="YOUR_LINKEDIN_URL" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>\n        <a style="display: inline-flex; align-items: center; text-decoration: none; color: #000000; font-size: 24px;" href="https://x.com/RevTradingPros" target="_blank" rel="noopener noreferrer" aria-label="X"><i class="fab fa-x-twitter"></i></a>\n        <a style="display: inline-flex; align-items: center; text-decoration: none; color: #ff0000; font-size: 24px;" href="https://bit.ly/3YmfilF" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fab fa-youtube"></i></a>\n        <a style="display: inline-flex; align-items: center; text-decoration: none; color: #1877f2; font-size: 24px;" href="https://bit.ly/3OJ9z6g" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="fab fa-facebook"></i></a>\n        <a style="display: inline-flex; align-items: center; text-decoration: none; color: #e4405f; font-size: 24px;" href="https://bit.ly/3KW0zsb" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="fab fa-instagram"></i></a>\n    </div>\n</section>\n\n' + introductionSection + '\n\n<!-- BILLY\'S KEY TAKEAWAYS -->\n<section style="background-color: #f7faff; border: 1px solid #cce0ff; padding: 20px 25px; margin: 30px 0; border-radius: 12px;">\n    <h2 style="margin-top: 0; margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat;">Billy\'s Key Takeaways</span></h2>\n    <p style="font-style: italic; margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat;">"After 15+ years of trading and mentoring thousands of traders, here\'s what I wish every trader understood from day one:"</span></p>\n    <ul style="list-style-type: disc; margin-left: 20px;">\n        ' + takeawaysHTML + '\n    </ul>\n</section>\n\n<!-- MAIN CONTENT SECTIONS with H3/H4 hierarchy -->\n' + contentSectionsHTML + '\n\n<!-- BILLY\'S TAKES (Strategic Placement) -->\n' + billyTakesHTML + '\n\n' + deepDiveSection + '\n\n' + warningSection + '\n\n' + evolutionSection;
            
            // Build the complete HTML - PART 2
            html += '\n\n<!-- RECOMMENDED EXTERNAL RESOURCES -->\n<section style="margin-top: 40px;">\n    <h2 style="margin-bottom: 20px;"><span style="color: #333333; font-family: Montserrat;">Recommended External Resources</span></h2>\n    <table style="width:100%; border-collapse: collapse; margin: 20px 0;">\n        <thead>\n            <tr style="background-color: #f2f2f2;">\n                <th style="padding: 12px; text-align: left; border: 1px solid #ddd;"><span style="color: #333333;">Resource</span></th>\n                <th style="padding: 12px; text-align: left; border: 1px solid #ddd;"><span style="color: #333333;">Type</span></th>\n                <th style="padding: 12px; text-align: left; border: 1px solid #ddd;"><span style="color: #333333;">Best For</span></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td style="padding: 12px; border: 1px solid #ddd;"><a href="https://www.sec.gov/education" target="_blank" rel="noopener noreferrer">SEC Investor Education</a></td>\n                <td style="padding: 12px; border: 1px solid #ddd;"><span style="color: #333333;">Regulatory Guidance</span></td>\n                <td style="padding: 12px; border: 1px solid #ddd;"><span style="color: #333333;">Understanding trading regulations and investor protection</span></td>\n            </tr>\n            <tr>\n                <td style="padding: 12px; border: 1px solid #ddd;"><a href="https://www.cmegroup.com/education.html" target="_blank" rel="noopener noreferrer">CME Group Education</a></td>\n                <td style="padding: 12px; border: 1px solid #ddd;"><span style="color: #333333;">Market Structure</span></td>\n                <td style="padding: 12px; border: 1px solid #ddd;"><span style="color: #333333;">Learning about futures markets and market mechanics</span></td>\n            </tr>\n            <tr>\n                <td style="padding: 12px; border: 1px solid #ddd;"><a href="https://www.investopedia.com/trading-4427765" target="_blank" rel="noopener noreferrer">Investopedia Trading Guide</a></td>\n                <td style="padding: 12px; border: 1px solid #ddd;"><span style="color: #333333;">Educational Resource</span></td>\n                <td style="padding: 12px; border: 1px solid #ddd;"><span style="color: #333333;">Basic trading concepts and terminology</span></td>\n            </tr>\n        </tbody>\n    </table>\n</section>\n\n<!-- FAQ SECTION with H3 for each question -->\n<section style="margin-top: 40px;">\n    <h2 style="margin-bottom: 20px;"><span style="color: #333333; font-family: Montserrat;">Frequently Asked Questions</span></h2>\n    ' + faqHTML + '\n</section>\n\n<!-- CONTINUE YOUR LEARNING Section -->\n<section style="margin-top: 40px;">\n    <h2 style="margin-bottom: 20px;"><span style="color: #333333; font-family: Montserrat;">Continue Your Learning</span></h2>\n    <div style="display: flex; flex-direction: column; gap: 20px; margin-bottom: 30px;">\n        \n        <!-- Related Article 1 -->\n        <article style="display: block;">\n            <a href="https://revolutiontradingpros.com/risk-management-essentials/" style="text-decoration: none; color: inherit;">\n                <div style="display: flex; gap: 15px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer; align-items: center;" \n                     onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 8px 16px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#c0392b\'" \n                     onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 4px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n                    <img style="width: 100px; height: 100px; border-radius: 6px;" \n                         src="https://placehold.co/100x100/c0392b/ffffff?text=Risk" \n                         alt="Risk Management Essentials" />\n                    <div style="flex: 1;">\n                        <h3 style="margin: 0 0 8px 0; color: #333; font-size: 1.2em;"><span style="color: #333333;">Risk Management Essentials for Active Traders</span></h3>\n                        <p style="margin: 0; color: #666; font-size: 0.95em; line-height: 1.5;"><span style="color: #333333;">Learn the core principles of risk management, including position sizing and setting effective stop-losses to protect your capital.</span></p>\n                    </div>\n                </div>\n            </a>\n        </article>\n        \n        <!-- Related Article 2 -->\n        <article style="display: block;">\n            <a href="https://revolutiontradingpros.com/technical-analysis-introduction/" style="text-decoration: none; color: inherit;">\n                <div style="display: flex; gap: 15px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer; align-items: center;" \n                     onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 8px 16px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#3366ff\'" \n                     onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 4px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n                    <img style="width: 100px; height: 100px; border-radius: 6px;" \n                         src="https://placehold.co/100x100/3366ff/ffffff?text=Tech" \n                         alt="Technical Analysis" />\n                    <div style="flex: 1;">\n                        <h3 style="margin: 0 0 8px 0; color: #333; font-size: 1.2em;"><span style="color: #333333;">An Introduction to Technical Analysis</span></h3>\n                        <p style="margin: 0; color: #666; font-size: 0.95em; line-height: 1.5;"><span style="color: #333333;">Discover how to read charts, identify trends, and use technical indicators to improve your trade timing and execution.</span></p>\n                    </div>\n                </div>\n            </a>\n        </article>\n        \n        <!-- Related Article 3 -->\n        <article style="display: block;">\n            <a href="https://revolutiontradingpros.com/trading-psychology/" style="text-decoration: none; color: inherit;">\n                <div style="display: flex; gap: 15px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer; align-items: center;" \n                     onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 8px 16px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#27ae60\'" \n                     onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 4px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n                    <img style="width: 100px; height: 100px; border-radius: 6px;" \n                         src="https://placehold.co/100x100/27ae60/ffffff?text=Mind" \n                         alt="Trading Psychology" />\n                    <div style="flex: 1;">\n                        <h3 style="margin: 0 0 8px 0; color: #333; font-size: 1.2em;"><span style="color: #333333;">The Psychology of Successful Trading</span></h3>\n                        <p style="margin: 0; color: #666; font-size: 0.95em; line-height: 1.5;"><span style="color: #333333;">Master the mental game of trading by understanding emotional control, discipline, and the psychological factors that impact trading decisions.</span></p>\n                    </div>\n                </div>\n            </a>\n        </article>\n    </div>\n</section>\n\n<!-- NEWSLETTER Section -->\n<section style="text-align: center; margin: 40px 0; padding: 30px; background-color: #f8f9fa; border-radius: 12px;">\n    <h2 style="margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat; font-size: 28px;">Get Our Trading Cheat Sheet Direct to Your Inbox</span></h2>\n    <p style="margin-bottom: 20px; color: #666;"><span style="font-family: Montserrat;">Join thousands of traders getting exclusive insights and strategies</span></p>\n    <span style="color: #333333;">[elementor-template id="44911"]</span>\n</section>\n\n<!-- SOCIAL SHARING Section -->\n<section style="margin: 40px auto; max-width: 800px; padding: 30px; background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 15px; border: 1px solid #e0e0e0; text-align: center;">\n    <h2 style="margin: 0 0 10px 0; color: #333333; font-family: Montserrat; font-size: 1.5em;">Found this helpful? Share it with fellow traders!</h2>\n    <p style="margin: 0 0 25px 0; color: #666; font-family: Montserrat; font-size: 0.9em;">Help others improve their trading</p>\n    \n    <div style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; align-items: center;">\n        <a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #000000; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" \n           href="https://twitter.com/intent/tweet?text=' + encodeURIComponent(tags.TITLE) + '&amp;url=https://revolutiontradingpros.com/' + slug + '/" \n           target="_blank" rel="noopener noreferrer" \n           onmouseover="this.style.transform=\'translateY(-3px)\'; this.style.boxShadow=\'0 6px 16px rgba(0,0,0,0.2)\'" \n           onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'none\'">\n            <span style="font-size: 16px; line-height: 1;">ùïè</span> Share on X\n        </a>\n        <a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #0077b5; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" \n           href="https://www.linkedin.com/sharing/share-offsite/?url=https://revolutiontradingpros.com/' + slug + '/" \n           target="_blank" rel="noopener noreferrer" \n           onmouseover="this.style.transform=\'translateY(-3px)\'; this.style.boxShadow=\'0 6px 16px rgba(0,119,181,0.3)\'; this.style.backgroundColor=\'#005885\'" \n           onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'none\'; this.style.backgroundColor=\'#0077b5\'">\n            <span style="font-size: 16px; font-weight: bold; line-height: 1;">in</span> Share on LinkedIn\n        </a>\n        <a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #1877f2; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" \n           href="https://www.facebook.com/sharer/sharer.php?u=https://revolutiontradingpros.com/' + slug + '/" \n           target="_blank" rel="noopener noreferrer" \n           onmouseover="this.style.transform=\'translateY(-3px)\'; this.style.boxShadow=\'0 6px 16px rgba(24,119,242,0.3)\'; this.style.backgroundColor=\'#1264d1\'" \n           onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'none\'; this.style.backgroundColor=\'#1877f2\'">\n            <span style="font-size: 16px; font-weight: bold; line-height: 1;">f</span> Share on Facebook\n        </a>\n    </div>\n</section>\n\n<!-- CTA SECTION -->\n<section style="margin-top: 40px; padding: 30px 20px; background-color: #f8f9fa; border-radius: 20px;">\n    <h2 style="text-align: center; margin-bottom: 10px;"><span style="color: #333333;">Start Trading Like a Professional</span></h2>\n    <p style="text-align: center; color: #333333; max-width: 800px; margin: 0 auto 30px;">Ready to start trading like a professional? Join our community for in-depth analysis, expert strategy and live trading. Sign up today to start trading with a real edge!</p>\n    \n    <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 20px; font-family: \'Montserrat\', sans-serif;">\n        \n        <!-- Service Cards with H3 headings -->\n        <article style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" \n                 onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 10px 25px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#3366ff\'" \n                 onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 8px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n            <div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üìà</div>\n            <h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Day Trading Room</h3>\n            <h4 style="margin: 6px 0; font-size: 0.9em; font-weight: 500; color: #666;">Live Market Analysis</h4>\n            <p style="font-size: 0.85em; color: #666; min-height: 48px;">For active traders seeking real-time setups and live market analysis.</p>\n            <a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" \n               href="https://revolutiontradingpros.com/day-trading/" \n               onmouseover="this.style.backgroundColor=\'#2952cc\'" \n               onmouseout="this.style.backgroundColor=\'#3366ff\'">Learn More</a>\n        </article>\n        \n        <article style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" \n                 onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 10px 25px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#3366ff\'" \n                 onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 8px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n            <div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üìä</div>\n            <h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Swing Trading Room</h3>\n            <h4 style="margin: 6px 0; font-size: 0.9em; font-weight: 500; color: #666;">Multi-Day Strategies</h4>\n            <p style="font-size: 0.85em; color: #666; min-height: 48px;">For part-time traders focused on short-term moves over days or weeks.</p>\n            <a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" \n               href="https://revolutiontradingpros.com/swing-trading/" \n               onmouseover="this.style.backgroundColor=\'#2952cc\'" \n               onmouseout="this.style.backgroundColor=\'#3366ff\'">Learn More</a>\n        </article>\n        \n        <article style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" \n                 onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 10px 25px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#3366ff\'" \n                 onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 8px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n            <div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üéØ</div>\n            <h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Small Account Mentorship</h3>\n            <h4 style="margin: 6px 0; font-size: 0.9em; font-weight: 500; color: #666;">1-on-1 Coaching</h4>\n            <p style="font-size: 0.85em; color: #666; min-height: 48px;">Personal coaching to build the discipline and strategy to grow a small account.</p>\n            <a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" \n               href="https://revolutiontradingpros.com/small-account/" \n               onmouseover="this.style.backgroundColor=\'#2952cc\'" \n               onmouseout="this.style.backgroundColor=\'#3366ff\'">Learn More</a>\n        </article>\n        \n        <article style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" \n                 onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 10px 25px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#3366ff\'" \n                 onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 8px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n            <div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">‚ö°</div>\n            <h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">SPX Profit Pulse Alerts</h3>\n            <h4 style="margin: 6px 0; font-size: 0.9em; font-weight: 500; color: #666;">0DTE Options Trading</h4>\n            <p style="font-size: 0.85em; color: #666; min-height: 48px;">Get our highest-conviction trade ideas for 0DTE SPX options.</p>\n            <a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" \n               href="https://revolutiontradingpros.com/spx-profit-pulse/" \n               onmouseover="this.style.backgroundColor=\'#2952cc\'" \n               onmouseout="this.style.backgroundColor=\'#3366ff\'">Explore Alerts</a>\n        </article>\n        \n        <article style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" \n                 onmouseover="this.style.transform=\'translateY(-5px)\'; this.style.boxShadow=\'0 10px 25px rgba(0,0,0,0.15)\'; this.style.borderColor=\'#3366ff\'" \n                 onmouseout="this.style.transform=\'translateY(0)\'; this.style.boxShadow=\'0 2px 8px rgba(0,0,0,0.1)\'; this.style.borderColor=\'#e0e0e0\'">\n            <div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üí°</div>\n            <h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Explosive Swing Alerts</h3>\n            <h4 style="margin: 6px 0; font-size: 0.9em; font-weight: 500; color: #666;">High-Conviction Setups</h4>\n            <p style="font-size: 0.85em; color: #666; min-height: 48px;">Actionable, alerts-only service for our flagship explosive swing trade setups.</p>\n            <a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" \n               href="https://revolutiontradingpros.com/explosive-swing/" \n               onmouseover="this.style.backgroundColor=\'#2952cc\'" \n               onmouseout="this.style.backgroundColor=\'#3366ff\'">Explore Alerts</a>\n        </article>\n    </div>\n</section>\n\n<!-- FOOTER with Risk Disclaimer -->\n<footer style="border: 1px solid #ccc; padding: 15px; margin-top: 40px; background-color: #fafafa; border-radius: 8px;">\n    <p style="font-size: 0.9em; color: #555; text-align: center; margin: 0;">\n        <strong>CRITICAL:</strong> Trading involves substantial risk of loss and is not suitable for all investors. The content of this article is for educational purposes only and is not a recommendation to buy or sell any security. All trading strategies are used at your own risk.\n    </p>\n</footer>\n\n<!-- Logo Footer -->\n<div style="text-align: center; margin-top: 30px; margin-bottom: 30px;">\n    <img src="https://revolutiontradingpros.com/wp-content/uploads/2024/12/50baa458abe39958a6c1330df9ae980c-300x79.png" \n         alt="Revolution Trading Pros Logo" \n         width="300" height="79" />\n</div>\n\n</article>\n</body>\n</html>';
            
            document.getElementById('htmlOutput').value = html;
            document.getElementById('phase2Output').classList.add('show');
            document.getElementById('phase2Output').scrollIntoView({ behavior: 'smooth' });
            
            showStatus('phase2Status', 'success', 'IMPECCABLE SEO-optimized HTML generated with perfect H1-H4 hierarchy!');
        }
        
        // Copy content
        function copyContent(elementId) {
            const textarea = document.getElementById(elementId);
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                const message = elementId === 'promptOutput' ? 
                    'Prompt copied! Paste into Claude.ai' : 
                    'HTML copied! Paste into WordPress';
                showStatus(elementId === 'promptOutput' ? 'phase1Status' : 'phase2Status', 'success', message);
            } catch (err) {
                alert('Please select and copy manually');
            }
        }
        
        // Open Claude
        function openClaude() {
            window.open('https://claude.ai', '_blank');
        }
        
        // Download HTML
        function downloadHTML() {
            const html = document.getElementById('htmlOutput').value;
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'blog-post.html';
            a.click();
            URL.revokeObjectURL(url);
            
            showStatus('phase2Status', 'success', 'HTML file downloaded!');
        }
        
        // Show status messages
        function showStatus(elementId, type, message) {
            const statusEl = document.getElementById(elementId);
            statusEl.className = 'status show ' + type;
            statusEl.textContent = message;
            
            setTimeout(function() {
                statusEl.classList.remove('show');
            }, 5000);
        }
        
        // Load saved settings on page load
        window.addEventListener('load', function() {
            const savedUrl = localStorage.getItem('wp_url');
            const savedMethod = localStorage.getItem('wp_auth_method');
            const savedUsername = localStorage.getItem('wp_username');
            
            if (savedUrl) {
                document.getElementById('wpUrl').value = savedUrl;
            }
            
            if (savedMethod) {
                document.getElementById('authMethod').value = savedMethod;
                toggleAuthFields();
            }
            
            if (savedUsername) {
                document.getElementById('wpUsername').value = savedUsername;
            }
            
            // Auto-connect if we have saved settings
            if (savedUrl) {
                setTimeout(function() {
                    connectToWordPress();
                }, 1000);
            }
        });
    </script>
</body>
</html>
