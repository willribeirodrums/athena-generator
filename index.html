<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATHENA Pro Generator v2.0 - Revolution Trading Pros</title>
    <style>
        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }
        
        :root {
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --secondary: #764ba2;
            --success: #48bb78;
            --warning: #f6ad55;
            --danger: #fc8181;
            --dark: #2d3748;
            --light: #f7fafc;
            --border: #e2e8f0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.25);
            overflow: hidden;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .header h1 {
            font-size: 48px;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 20px;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }
        
        .version-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
            margin-top: 10px;
        }
        
        .main-content {
            padding: 40px;
        }
        
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }
        
        .toolbar-left {
            display: flex;
            gap: 10px;
        }
        
        .toolbar-right {
            display: flex;
            gap: 10px;
        }
        
        .toolbar-btn {
            padding: 8px 16px;
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .toolbar-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .phase-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border);
            padding-bottom: 10px;
        }
        
        .phase-tab {
            padding: 14px 28px;
            background: var(--light);
            border: none;
            border-radius: 12px 12px 0 0;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            color: #666;
            position: relative;
        }
        
        .phase-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .phase-tab:hover:not(.active) {
            background: #e0e0e0;
            transform: translateY(-2px);
        }
        
        .phase-tab .badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--success);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
        }
        
        .phase-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .phase-content.active {
            display: block;
        }
        
        .instructions {
            background: linear-gradient(135deg, #e8f4fd 0%, #f0f8ff 100%);
            border-left: 4px solid #2196f3;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);
        }
        
        .instructions h3 {
            color: #1976d2;
            margin-bottom: 16px;
            font-size: 20px;
        }
        
        .instructions ol {
            margin-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
            color: #333;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .form-group.required label::after {
            content: ' *';
            color: var(--danger);
        }
        
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--dark);
            font-size: 14px;
        }
        
        .label-hint {
            font-weight: normal;
            color: #666;
            font-size: 12px;
            margin-left: 8px;
        }
        
        input[type="text"], 
        input[type="url"], 
        textarea, 
        select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            background: white;
        }
        
        input:focus, 
        textarea:focus, 
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        .input-with-counter {
            position: relative;
        }
        
        .char-counter {
            position: absolute;
            bottom: -20px;
            right: 0;
            font-size: 12px;
            color: #666;
        }
        
        .char-counter.warning {
            color: var(--warning);
        }
        
        .char-counter.danger {
            color: var(--danger);
        }
        
        textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .large-textarea {
            min-height: 400px;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.8;
            background: #fafafa;
        }
        
        .output-textarea {
            min-height: 600px;
            background: #f8f9fa;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 12px;
        }
        
        .generate-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .generate-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .generate-btn:hover::before {
            width: 100%;
            height: 100%;
        }
        
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
        }
        
        .generate-btn:active {
            transform: scale(0.98);
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .action-btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .copy-btn {
            background: var(--success);
            color: white;
        }
        
        .copy-btn:hover {
            background: #38a169;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
        }
        
        .claude-btn {
            background: #ff6b35;
            color: white;
        }
        
        .claude-btn:hover {
            background: #ff5722;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }
        
        .download-btn {
            background: #007bff;
            color: white;
        }
        
        .download-btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
        }
        
        .preview-btn {
            background: var(--secondary);
            color: white;
        }
        
        .preview-btn:hover {
            background: #693d8f;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(118, 75, 162, 0.3);
        }
        
        .status {
            padding: 16px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            display: none;
            font-weight: 500;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .status.show { 
            display: block; 
        }
        
        .status.success {
            background: linear-gradient(135deg, #d4edda 0%, #c3e8ce 100%);
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c2c7 100%);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: linear-gradient(135deg, #d1ecf1 0%, #b8daff 100%);
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .output-section {
            display: none;
            margin-top: 40px;
            padding-top: 40px;
            border-top: 2px solid var(--border);
        }
        
        .output-section.show {
            display: block;
        }
        
        .output-section h3 {
            color: var(--dark);
            margin-bottom: 16px;
            font-size: 24px;
        }
        
        .workflow-arrow {
            text-align: center;
            margin: 30px 0;
            font-size: 32px;
            color: var(--primary);
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }
        
        .meta-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .meta-grid {
                grid-template-columns: 1fr;
            }
        }

        .audio-section {
            background: linear-gradient(135deg, #f7faff 0%, #e8f4fd 100%);
            border: 2px solid var(--primary);
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .audio-section h4 {
            color: #1976d2;
            margin-bottom: 16px;
            font-size: 18px;
        }

        .audio-tip {
            font-size: 14px;
            color: #666;
            margin-top: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border-left: 4px solid #ffc107;
            padding: 16px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.2);
        }
        
        .warning-box strong {
            color: #856404;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            transition: width 0.3s ease;
            width: 0;
        }
        
        .preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            padding: 20px;
            overflow: auto;
        }
        
        .preview-modal.show {
            display: block;
        }
        
        .preview-content {
            background: white;
            max-width: 1200px;
            margin: 0 auto;
            border-radius: 12px;
            padding: 40px;
            position: relative;
        }
        
        .preview-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--danger);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .preview-close:hover {
            background: #e53e3e;
            transform: scale(1.1);
        }
        
        .saved-drafts {
            margin-top: 30px;
            padding: 20px;
            background: var(--light);
            border-radius: 10px;
        }
        
        .saved-drafts h4 {
            color: var(--dark);
            margin-bottom: 16px;
        }
        
        .draft-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        
        .draft-item:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transform: translateX(4px);
        }
        
        .draft-title {
            font-weight: 600;
            color: var(--dark);
        }
        
        .draft-date {
            font-size: 12px;
            color: #666;
        }
        
        .draft-actions {
            display: flex;
            gap: 8px;
        }
        
        .draft-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }
        
        .load-draft {
            background: var(--primary);
            color: white;
        }
        
        .load-draft:hover {
            background: var(--primary-dark);
        }
        
        .delete-draft {
            background: var(--danger);
            color: white;
        }
        
        .delete-draft:hover {
            background: #e53e3e;
        }
        
        .seo-analyzer {
            background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .seo-analyzer h4 {
            color: var(--dark);
            margin-bottom: 16px;
        }
        
        .seo-score {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .score-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
        }
        
        .score-excellent {
            background: linear-gradient(135deg, var(--success), #38a169);
        }
        
        .score-good {
            background: linear-gradient(135deg, #f6ad55, #ed8936);
        }
        
        .score-poor {
            background: linear-gradient(135deg, var(--danger), #e53e3e);
        }
        
        .seo-tips {
            list-style: none;
            padding: 0;
        }
        
        .seo-tip-item {
            padding: 8px 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .tip-success {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .tip-warning {
            background: #feebc8;
            color: #744210;
        }
        
        .tip-error {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .helper-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }
        
        .helper-card {
            background: white;
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .helper-card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }
        
        .helper-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }
        
        .helper-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 4px;
        }
        
        .helper-desc {
            font-size: 12px;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 32px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .toolbar {
                flex-direction: column;
                gap: 10px;
            }
            
            .toolbar-left,
            .toolbar-right {
                width: 100%;
                justify-content: center;
            }
            
            .phase-tabs {
                flex-wrap: wrap;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .action-btn {
                width: 100%;
            }
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 8px;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        .floating-save {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            z-index: 100;
        }
        
        .floating-save:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ö° ATHENA Pro Generator</h1>
            <p>Billy Ribeiro Content System - Google 2025 Optimized</p>
            <span class="version-badge">Version 2.0 Pro</span>
        </div>
        
        <div class="main-content">
            <div class="toolbar">
                <div class="toolbar-left">
                    <button class="toolbar-btn" onclick="saveDraft()">
                        üíæ Save Draft
                    </button>
                    <button class="toolbar-btn" onclick="showDrafts()">
                        üìÇ Load Draft
                    </button>
                    <button class="toolbar-btn" onclick="clearAll()">
                        üóëÔ∏è Clear All
                    </button>
                </div>
                <div class="toolbar-right">
                    <button class="toolbar-btn" onclick="showHelp()">
                        ‚ùì Help
                    </button>
                    <button class="toolbar-btn" onclick="showSettings()">
                        ‚öôÔ∏è Settings
                    </button>
                </div>
            </div>
            
            <div class="phase-tabs">
                <button class="phase-tab active" onclick="switchPhase('phase1', event)">
                    Phase 1: Generate Prompt
                    <span class="badge" id="phase1Badge" style="display: none;">‚úì</span>
                </button>
                <button class="phase-tab" onclick="switchPhase('phase2', event)">
                    Phase 2: Apply Template
                    <span class="badge" id="phase2Badge" style="display: none;">‚úì</span>
                </button>
                <button class="phase-tab" onclick="switchPhase('phase3', event)">
                    Phase 3: SEO & Preview
                </button>
            </div>
            
            <!-- PHASE 1 CONTENT -->
            <div id="phase1" class="phase-content active">
                <div class="instructions">
                    <h3>üìã Phase 1: Generate Content Prompt</h3>
                    <ol>
                        <li>Enter your blog topic and primary keyword</li>
                        <li>Add optional search intent and competitor URLs</li>
                        <li>Click "Generate Phase 1 Prompt"</li>
                        <li>Copy the prompt and paste into Claude.ai</li>
                        <li>Claude will generate {{TAGGED}} content</li>
                        <li>Come back and switch to Phase 2</li>
                    </ol>
                </div>
                
                <div class="warning-box">
                    <strong>‚ö†Ô∏è IMPORTANT:</strong> Do NOT use em dashes (‚Äî) in your content. Use regular hyphens (-) or commas instead.
                </div>
                
                <div class="form-group required">
                    <label for="topic">
                        üìù Blog Topic
                        <span class="label-hint">(What you want to write about)</span>
                    </label>
                    <input 
                        type="text" 
                        id="topic" 
                        placeholder="e.g., 3 Best Scalping Strategies for Beginners 2025"
                        onkeyup="validatePhase1()"
                    >
                </div>
                
                <div class="form-group required">
                    <label for="keyword">
                        üéØ Primary Keyword
                        <span class="label-hint">(Main SEO keyword to target)</span>
                    </label>
                    <input 
                        type="text" 
                        id="keyword" 
                        placeholder="e.g., scalping strategies beginners"
                        onkeyup="validatePhase1()"
                    >
                </div>
                
                <div class="form-group">
                    <label for="searchIntent">
                        üîç Search Intent
                        <span class="label-hint">(What the reader wants to achieve)</span>
                    </label>
                    <textarea 
                        id="searchIntent" 
                        placeholder="e.g., User wants actionable strategies to grow a small trading account with limited capital and time"
                    ></textarea>
                </div>
                
                <div class="form-group">
                    <label for="competitorUrls">
                        üèÜ Competitor URLs
                        <span class="label-hint">(Articles to outrank - one per line)</span>
                    </label>
                    <textarea 
                        id="competitorUrls" 
                        placeholder="https://example.com/similar-article-1&#10;https://example.com/similar-article-2"
                        rows="3"
                    ></textarea>
                </div>
                
                <div class="form-group">
                    <label for="targetLength">
                        üìè Target Word Count
                    </label>
                    <select id="targetLength">
                        <option value="2500">2,500 words (Standard)</option>
                        <option value="3500" selected>3,500 words (Comprehensive)</option>
                        <option value="5000">5,000 words (Ultimate Guide)</option>
                        <option value="7500">7,500 words (Pillar Content)</option>
                    </select>
                </div>
                
                <div class="helper-tools">
                    <div class="helper-card" onclick="generateTitleIdeas()">
                        <div class="helper-icon">üí°</div>
                        <div class="helper-title">Title Ideas</div>
                        <div class="helper-desc">Generate title suggestions</div>
                    </div>
                    <div class="helper-card" onclick="analyzeKeyword()">
                        <div class="helper-icon">üîç</div>
                        <div class="helper-title">Keyword Analysis</div>
                        <div class="helper-desc">Check keyword viability</div>
                    </div>
                    <div class="helper-card" onclick="generateOutline()">
                        <div class="helper-icon">üìë</div>
                        <div class="helper-title">Quick Outline</div>
                        <div class="helper-desc">Create content structure</div>
                    </div>
                    <div class="helper-card" onclick="findLSIKeywords()">
                        <div class="helper-icon">üéØ</div>
                        <div class="helper-title">LSI Keywords</div>
                        <div class="helper-desc">Find related keywords</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="phase1Progress"></div>
                </div>
                
                <button class="generate-btn" onclick="generatePhase1Prompt()" id="phase1GenerateBtn">
                    üöÄ Generate Phase 1 Prompt
                </button>
                
                <div id="phase1Status" class="status"></div>
                
                <div id="phase1Output" class="output-section">
                    <h3>üìÑ Your Phase 1 Prompt</h3>
                    <p style="margin: 10px 0; color: #666;">Copy this and paste into Claude.ai:</p>
                    <textarea id="promptOutput" class="output-textarea" readonly></textarea>
                    
                    <div class="button-group">
                        <button class="action-btn copy-btn" onclick="copyContent('promptOutput')">
                            üìã Copy Prompt
                        </button>
                        <button class="action-btn claude-btn" onclick="openClaude()">
                            ü§ñ Open Claude.ai
                        </button>
                        <button class="action-btn download-btn" onclick="downloadPrompt()">
                            üíæ Save Prompt
                        </button>
                    </div>
                    
                    <div class="workflow-arrow">‚¨áÔ∏è</div>
                    <p style="text-align: center; color: #666; font-size: 18px;">
                        After getting tagged content from Claude, click <strong>Phase 2</strong> above
                    </p>
                </div>
            </div>
            
            <!-- PHASE 2 CONTENT -->
            <div id="phase2" class="phase-content">
                <div class="instructions">
                    <h3>üìã Phase 2: Convert to WordPress HTML</h3>
                    <ol>
                        <li>Paste the {{TAGGED}} content from Claude</li>
                        <li>Add meta description and slug (auto-generated if blank)</li>
                        <li>Add audio URL from ElevenLabs (recommended)</li>
                        <li>Click "Generate Complete HTML"</li>
                        <li>Preview, then copy HTML and paste into WordPress</li>
                    </ol>
                </div>
                
                <div class="warning-box">
                    <strong>‚ö†Ô∏è REMINDER:</strong> Ensure there are NO em dashes (‚Äî) in your content. The generator will automatically convert them.
                </div>
                
                <div class="form-group required">
                    <label for="taggedContent">
                        üìù Paste Tagged Content from Claude
                        <span class="label-hint">(The complete {{TAGGED}} output)</span>
                    </label>
                    <textarea 
                        id="taggedContent" 
                        class="large-textarea"
                        placeholder="{{TITLE}}: Your title here&#10;{{TAKEAWAY_1}}: Your takeaway here&#10;{{SECTION_1_H2}}: Your section title&#10;{{SECTION_1_CONTENT}}: Your content here&#10;..."
                        onkeyup="validatePhase2()"
                    ></textarea>
                </div>
                
                <div class="meta-grid">
                    <div class="form-group">
                        <div class="input-with-counter">
                            <label for="metaDescription">
                                üîç Meta Description
                                <span class="label-hint">(150-160 chars)</span>
                            </label>
                            <input 
                                type="text" 
                                id="metaDescription" 
                                placeholder="Auto-generated if left blank"
                                maxlength="160"
                                onkeyup="updateCharCount('metaDescription')"
                            >
                            <span class="char-counter" id="metaDescriptionCounter">0/160</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="slug">
                            üîó URL Slug
                            <span class="label-hint">(SEO-friendly URL)</span>
                        </label>
                        <input 
                            type="text" 
                            id="slug" 
                            placeholder="auto-generated-from-title"
                            onkeyup="sanitizeSlug()"
                        >
                    </div>
                </div>

                <div class="audio-section">
                    <h4>üéß Audio Version (Highly Recommended for Engagement)</h4>
                    <div class="form-group">
                        <label for="audioUrl">Audio File URL</label>
                        <input 
                            type="url" 
                            id="audioUrl" 
                            placeholder="https://revolutiontradingpros.com/wp-content/uploads/2025/01/blog-audio.mp3"
                        >
                        <div class="audio-tip">
                            <strong>üí° AUDIO WORKFLOW:</strong><br>
                            1. Copy all blog text content (without HTML)<br>
                            2. Go to ElevenLabs and generate audio using Billy's voice<br>
                            3. Download the MP3 file<br>
                            4. Upload to WordPress Media Library<br>
                            5. Copy the file URL and paste it here<br>
                            <span style="color: #d73502;">üìç Audio player will appear right after social links</span>
                        </div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="phase2Progress"></div>
                </div>
                
                <button class="generate-btn" onclick="generateHTML()" id="phase2GenerateBtn">
                    üöÄ Generate Complete HTML
                </button>
                
                <div id="phase2Status" class="status"></div>
                
                <div id="phase2Output" class="output-section">
                    <h3>‚úÖ Your Complete HTML Blog Post</h3>
                    <p style="margin: 10px 0; color: #666;">Ready to paste into WordPress (Text/HTML editor):</p>
                    <textarea id="htmlOutput" class="output-textarea" readonly></textarea>
                    
                    <div class="button-group">
                        <button class="action-btn copy-btn" onclick="copyContent('htmlOutput')">
                            üìã Copy HTML
                        </button>
                        <button class="action-btn preview-btn" onclick="previewHTML()">
                            üëÅÔ∏è Preview
                        </button>
                        <button class="action-btn download-btn" onclick="downloadHTML()">
                            üíæ Download HTML
                        </button>
                    </div>
                    
                    <div class="workflow-arrow">‚¨áÔ∏è</div>
                    <p style="text-align: center; color: #666; font-size: 18px;">
                        Want to optimize further? Check <strong>Phase 3: SEO & Preview</strong>
                    </p>
                </div>
            </div>
            
            <!-- PHASE 3 CONTENT -->
            <div id="phase3" class="phase-content">
                <div class="instructions">
                    <h3>üéØ Phase 3: SEO Optimization & Final Preview</h3>
                    <p>Analyze and optimize your content before publishing</p>
                </div>
                
                <div class="seo-analyzer">
                    <h4>SEO Analysis</h4>
                    <div class="seo-score">
                        <div class="score-circle score-excellent" id="seoScoreCircle">
                            <span id="seoScoreValue">0</span>
                        </div>
                        <div>
                            <h5 id="seoScoreLabel">Not Analyzed</h5>
                            <p style="color: #666; font-size: 14px;">Generate HTML in Phase 2 first</p>
                        </div>
                    </div>
                    <ul class="seo-tips" id="seoTips">
                        <!-- SEO tips will be populated here -->
                    </ul>
                    <button class="action-btn copy-btn" onclick="analyzeSEO()" style="margin-top: 16px;">
                        üîç Analyze SEO
                    </button>
                </div>
                
                <div class="saved-drafts">
                    <h4>üìÅ Saved Drafts</h4>
                    <div id="draftsList">
                        <p style="color: #666;">No saved drafts yet</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Preview Modal -->
    <div class="preview-modal" id="previewModal">
        <div class="preview-content">
            <button class="preview-close" onclick="closePreview()">‚úï</button>
            <div id="previewFrame"></div>
        </div>
    </div>
    
    <!-- Floating Save Button -->
    <div class="floating-save tooltip" onclick="quickSave()">
        üíæ
        <span class="tooltiptext">Quick Save Draft</span>
    </div>
    
    <script>
        // Constants - TRADING ROOM CARDS HTML
        const TRADING_ROOM_CARDS = `<div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 20px; font-family: 'Montserrat', sans-serif;">
<div style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.15)'; this.style.borderColor='#3366ff'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üìà</div>
<h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Day Trading Room</h3>
<p style="font-size: 0.85em; color: #666; min-height: 48px;">For active traders seeking real-time setups and live market analysis.</p>
<a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" href="https://revolutiontradingpros.com/day-trading/" onmouseover="this.style.backgroundColor='#2952cc'" onmouseout="this.style.backgroundColor='#3366ff'">Learn More</a>
</div>
<div style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.15)'; this.style.borderColor='#3366ff'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üìä</div>
<h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Swing Trading Room</h3>
<p style="font-size: 0.85em; color: #666; min-height: 48px;">For part-time traders focused on short-term moves over days or weeks.</p>
<a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" href="https://revolutiontradingpros.com/swing-trading/" onmouseover="this.style.backgroundColor='#2952cc'" onmouseout="this.style.backgroundColor='#3366ff'">Learn More</a>
</div>
<div style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.15)'; this.style.borderColor='#3366ff'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üéØ</div>
<h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Small Account Mentorship</h3>
<p style="font-size: 0.85em; color: #666; min-height: 48px;">1-on-1 coaching to build the discipline and strategy to grow a small account.</p>
<a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" href="https://revolutiontradingpros.com/small-account/" onmouseover="this.style.backgroundColor='#2952cc'" onmouseout="this.style.backgroundColor='#3366ff'">Learn More</a>
</div>
<div style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.15)'; this.style.borderColor='#3366ff'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">‚ö°</div>
<h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">SPX Profit Pulse Alerts</h3>
<p style="font-size: 0.85em; color: #666; min-height: 48px;">Get our highest-conviction trade ideas for 0DTE SPX options.</p>
<a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" href="https://revolutiontradingpros.com/spx-profit-pulse/" onmouseover="this.style.backgroundColor='#2952cc'" onmouseout="this.style.backgroundColor='#3366ff'">Explore Alerts</a>
</div>
<div style="border: 1px solid #e0e0e0; background-color: #ffffff; border-radius: 10px; padding: 18px; text-align: center; width: 38%; min-width: 240px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.15)'; this.style.borderColor='#3366ff'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<div style="font-size: 34px; color: #3366ff; margin-bottom: 8px;">üí°</div>
<h3 style="margin: 6px 0; font-size: 1.1em; font-weight: 600; color: #333333;">Explosive Swing Alerts</h3>
<p style="font-size: 0.85em; color: #666; min-height: 48px;">Actionable, alerts-only service for our flagship explosive swing trade setups.</p>
<a style="text-decoration: none; color: #ffffff; background-color: #3366ff; padding: 10px 20px; border-radius: 5px; font-weight: 600; display: inline-block; line-height: 1.2; text-align: center; font-size: 0.9em; min-width: 120px; transition: 0.3s; box-shadow: rgba(51, 102, 255, 0.2) 0px 2px 4px;" href="https://revolutiontradingpros.com/explosive-swing/" onmouseover="this.style.backgroundColor='#2952cc'" onmouseout="this.style.backgroundColor='#3366ff'">Explore Alerts</a>
</div>
</div>`;

        // Initialize on load
        window.addEventListener('load', () => {
            loadAutoSave();
            updateDraftsList();
        });

        // Auto-save every 30 seconds
        setInterval(() => {
            autoSave();
        }, 30000);

        // Phase switching
        function switchPhase(phase, event) {
            document.querySelectorAll('.phase-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.querySelectorAll('.phase-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(phase).classList.add('active');
            
            updateOverallProgress();
        }

        // Validation functions
        function validatePhase1() {
            const topic = document.getElementById('topic').value.trim();
            const keyword = document.getElementById('keyword').value.trim();
            const btn = document.getElementById('phase1GenerateBtn');
            
            if (topic && keyword) {
                btn.style.opacity = '1';
                btn.style.cursor = 'pointer';
                updateProgress('phase1Progress', 100);
            } else {
                btn.style.opacity = '0.6';
                btn.style.cursor = 'not-allowed';
                updateProgress('phase1Progress', 50);
            }
        }

        function validatePhase2() {
            const content = document.getElementById('taggedContent').value.trim();
            const btn = document.getElementById('phase2GenerateBtn');
            
            if (content && content.includes('{{TITLE}}')) {
                btn.style.opacity = '1';
                btn.style.cursor = 'pointer';
                updateProgress('phase2Progress', 100);
            } else {
                btn.style.opacity = '0.6';
                btn.style.cursor = 'not-allowed';
                updateProgress('phase2Progress', content ? 50 : 0);
            }
        }

        // Progress update
        function updateProgress(barId, percent) {
            document.getElementById(barId).style.width = percent + '%';
        }

        function updateOverallProgress() {
            const phase1Done = document.getElementById('promptOutput').value ? true : false;
            const phase2Done = document.getElementById('htmlOutput').value ? true : false;
            
            document.getElementById('phase1Badge').style.display = phase1Done ? 'inline' : 'none';
            document.getElementById('phase2Badge').style.display = phase2Done ? 'inline' : 'none';
        }

        // Character counter
        function updateCharCount(fieldId) {
            const field = document.getElementById(fieldId);
            const counter = document.getElementById(fieldId + 'Counter');
            const length = field.value.length;
            const max = field.maxLength;
            
            counter.textContent = `${length}/${max}`;
            
            if (length > max * 0.9) {
                counter.classList.add('danger');
                counter.classList.remove('warning');
            } else if (length > max * 0.7) {
                counter.classList.add('warning');
                counter.classList.remove('danger');
            } else {
                counter.classList.remove('warning', 'danger');
            }
        }

        // Slug sanitization
        function sanitizeSlug() {
            const slugField = document.getElementById('slug');
            slugField.value = slugField.value
                .toLowerCase()
                .replace(/[^\w\s-]/g, '')
                .replace(/\s+/g, '-')
                .replace(/--+/g, '-')
                .trim();
        }

        // Helper tools
        function generateTitleIdeas() {
            const topic = document.getElementById('topic').value.trim();
            if (!topic) {
                showStatus('phase1Status', 'error', 'Please enter a topic first');
                return;
            }
            
            const ideas = [
                `${topic}: Complete Guide for 2025`,
                `How to Master ${topic} (Step-by-Step)`,
                `${topic}: What Actually Works in 2025`,
                `The Truth About ${topic} Nobody Tells You`,
                `${topic}: Professional Strategies Revealed`
            ];
            
            const ideasText = ideas.join('\n');
            alert('Title Ideas:\n\n' + ideasText);
        }

        function analyzeKeyword() {
            const keyword = document.getElementById('keyword').value.trim();
            if (!keyword) {
                showStatus('phase1Status', 'error', 'Please enter a keyword first');
                return;
            }
            
            showStatus('phase1Status', 'info', `Analyzing "${keyword}"... Consider using tools like Google Keyword Planner, Ahrefs, or SEMrush for detailed data.`);
        }

        function generateOutline() {
            const topic = document.getElementById('topic').value.trim();
            if (!topic) {
                showStatus('phase1Status', 'error', 'Please enter a topic first');
                return;
            }
            
            const outline = `
Quick Outline for: ${topic}

1. Introduction - Hook & Promise
2. Key Concept #1 - Foundation
3. Key Concept #2 - Advanced Strategy
4. Key Concept #3 - Common Mistakes
5. Case Studies / Examples
6. Step-by-Step Implementation
7. Tools & Resources
8. FAQ Section
9. Conclusion & Next Steps
            `;
            
            alert(outline);
        }

        function findLSIKeywords() {
            const keyword = document.getElementById('keyword').value.trim();
            if (!keyword) {
                showStatus('phase1Status', 'error', 'Please enter a primary keyword first');
                return;
            }
            
            const lsiSuggestions = [
                `${keyword} for beginners`,
                `best ${keyword}`,
                `${keyword} strategies`,
                `how to ${keyword}`,
                `${keyword} tips`,
                `${keyword} guide`,
                `${keyword} tutorial`,
                `${keyword} examples`
            ];
            
            alert('LSI Keyword Suggestions:\n\n' + lsiSuggestions.join('\n'));
        }

        // Generate Phase 1 Prompt
        function generatePhase1Prompt() {
            const topic = document.getElementById('topic').value.trim();
            const keyword = document.getElementById('keyword').value.trim();
            const searchIntent = document.getElementById('searchIntent').value.trim();
            const competitorUrls = document.getElementById('competitorUrls').value.trim();
            const targetLength = document.getElementById('targetLength').value;
            
            if (!topic || !keyword) {
                showStatus('phase1Status', 'error', 'Please enter both topic and keyword');
                return;
            }
            
            const prompt = `# ATHENA Pro Content Generation - ${targetLength} Words

## TOPIC: ${topic}
## PRIMARY KEYWORD: ${keyword}
## SEARCH INTENT: ${searchIntent || 'User wants actionable, practical strategies they can implement immediately'}
${competitorUrls ? `## COMPETITOR REFERENCES:\n${competitorUrls}` : ''}

Create comprehensive, E-E-A-T optimized content with ALL of these tags (NEVER use em dashes ‚Äî):

{{TITLE}}: [SEO-optimized title including year 2025]
{{HERO_IMAGE_DESC}}: [Detailed description for hero image]
{{KEYWORDS}}: [Primary keyword, 5-7 secondary keywords, 5 long-tail variations]

{{TAKEAWAY_1}}: [Bold statement] | [Explanation]
{{TAKEAWAY_2}}: [Bold statement] | [Explanation]
{{TAKEAWAY_3}}: [Bold statement] | [Explanation]
{{TAKEAWAY_4}}: [Bold statement] | [Explanation]
{{TAKEAWAY_5}}: [Bold statement] | [Explanation]
{{TAKEAWAY_6}}: [Bold statement] | [Explanation]

{{SECTION_1_H2}}: [Section 1 title]
{{SECTION_1_CONTENT}}: [Comprehensive content - multiple paragraphs, examples, data]

{{SECTION_2_H2}}: [Section 2 title]
{{SECTION_2_CONTENT}}: [Comprehensive content]

{{SECTION_3_H2}}: [Section 3 title]
{{SECTION_3_CONTENT}}: [Comprehensive content]

{{SECTION_4_H2}}: [Section 4 title]
{{SECTION_4_CONTENT}}: [Comprehensive content]

{{SECTION_5_H2}}: [Section 5 title]
{{SECTION_5_CONTENT}}: [Comprehensive content]

{{BILLY_TAKE_1}}: [Personal insight from 15+ years trading experience]
{{BILLY_TAKE_2}}: [Contrarian perspective that challenges common beliefs]
{{BILLY_TAKE_3}}: [Advanced strategy only pros know]

{{BILLY_DEEP_DIVE}}: [Extended contrarian analysis - 2-3 paragraphs]
{{CRITICAL_WARNING}}: [Warning title] | [Clear warning message about risks]
{{PERSONAL_EVOLUTION}}: [Billy's journey with this topic - failures, breakthroughs, lessons from Mark McGoldrick]

{{FAQ_Q1}} through {{FAQ_Q10}}: [10 detailed Q&A pairs]

Requirements:
- Write as Billy Ribeiro in first person
- Include specific percentages, trade examples, tickers
- Reference "The Move Prior to The Move" system
- Target ${targetLength} words total
- Make it actionable and contrarian
- Bold key statements
- Use only hyphens (-) never em dashes (‚Äî)`;
            
            document.getElementById('promptOutput').value = prompt;
            document.getElementById('phase1Output').classList.add('show');
            document.getElementById('phase1Output').scrollIntoView({ behavior: 'smooth' });
            
            showStatus('phase1Status', 'success', 'Phase 1 prompt generated! Copy and paste into Claude.');
            document.getElementById('phase1Badge').style.display = 'inline';
            
            autoSave();
        }

        // Parse tagged content
        function parseTaggedContent(content) {
            const tags = {};
            const regex = /\{\{([^}]+)\}\}:\s*([^{]*(?:\{[^}]*\}[^{]*)*?)(?=\{\{|$)/gs;
            let match;
            
            while ((match = regex.exec(content)) !== null) {
                const tagName = match[1].trim();
                const tagContent = match[2].trim();
                tags[tagName] = tagContent;
            }
            
            return tags;
        }
        
        // Process content sections
        function processSection(content) {
            if (!content) return '';
            
            // Replace em dashes with regular hyphens
            content = content.replace(/‚Äî/g, '-');
            
            let processed = content
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n\n+/g, '</span></p>\n<p><span style="color: #333333; font-family: Montserrat;">')
                .replace(/\n/g, '<br>');
            
            return '<p><span style="color: #333333; font-family: Montserrat;">' + processed + '</span></p>';
        }
        
        // Generate slug
        function generateSlug(title) {
            return title
                .toLowerCase()
                .replace(/[^\w\s-]/g, '')
                .replace(/\s+/g, '-')
                .replace(/--+/g, '-')
                .trim();
        }
        
        // COMPLETE Generate HTML function with ALL sections
        function generateHTML() {
            const taggedContent = document.getElementById('taggedContent').value.trim();
            
            if (!taggedContent) {
                showStatus('phase2Status', 'error', 'Please paste the tagged content from Claude');
                return;
            }
            
            // Remove em dashes
            const cleanContent = taggedContent.replace(/‚Äî/g, '-');
            const tags = parseTaggedContent(cleanContent);
            
            if (!tags.TITLE) {
                showStatus('phase2Status', 'error', 'Missing {{TITLE}} tag. Make sure you pasted complete content.');
                return;
            }
            
            let metaDescription = document.getElementById('metaDescription').value.trim() || 
                                  tags.TITLE.substring(0, 160);
            
            let slug = document.getElementById('slug').value.trim() || 
                       generateSlug(tags.TITLE);
            
            const audioUrl = document.getElementById('audioUrl').value.trim();
            const audioHTML = audioUrl ? `\n[billy_audio mp3="${audioUrl}"]` : '';
            
            // Build COMPLETE HTML with ALL sections
            let html = `<div style="font-family: Montserrat, sans-serif; color: #333333;">
<h1 style="text-align: center; font-family: 'Montserrat', sans-serif; color: #333333;"><span style="color: #333333;">${tags.TITLE || 'Your Title Here'}</span></h1>

<!-- HERO/FEATURED IMAGE PLACEHOLDER -->
<div style="background: #f0f0f0; border: 2px dashed #666; padding: 30px; margin: 30px 0; text-align: center; border-radius: 8px;">
    <p style="font-weight: bold; color: #333; font-size: 1.2em;">üñºÔ∏è FEATURED/HERO IMAGE</p>
    <p style="color: #666;">Description: ${tags.HERO_IMAGE_DESC || 'Professional trading setup with multiple monitors showing charts'}</p>
    <p style="color: #666;">Recommended Size: 1388 x 926 pixels</p>
    <p style="color: #666;">Alt Text: ${slug}-hero-image</p>
    <p style="color: #666;">Filename: ${slug}-hero.jpg</p>
</div>

<div style="display: flex; align-items: center; margin-top: 25px; margin-bottom: 25px;"><span style="color: #333333;"><img style="width: 80px; height: 80px; border-radius: 50%; margin-right: 15px;" src="https://revolutiontradingpros.com/wp-content/uploads/2025/05/Billy-no-grey-768x768.png.webp" alt="Photo of Billy Ribeiro" /></span>
<span style="font-style: italic; color: #333333;"><strong>By Billy Ribeiro | Globally Recognized Trader &amp; Market Strategist</strong></span></div>
<span style="color: #333333;"><strong>Billy Ribeiro</strong> is a globally recognized trader renowned for his mastery of price action analysis and innovative trading strategies. He was personally mentored by Mark McGoldrick, famously known as "Goldfinger," Goldman Sachs's most successful investor in history. McGoldrick described Billy Ribeiro as "The Future of Trading," a testament to his extraordinary talent. His groundbreaking system, "The Move Prior to The Move," enables him to anticipate market trends with unmatched accuracy, establishing him as a true pioneer in the trading world.</span>
<div style="display: flex; align-items: center; gap: 15px; margin-top: 0px; margin-bottom: 0px;">

<span style="display: inline-flex; align-items: center; font-weight: bold;">
Connect with Billy:
</span>

<!-- LinkedIn -->
<a style="display: inline-flex; align-items: center; text-decoration: none; color: #0077b5; font-size: 24px;" href="YOUR_LINKEDIN_URL" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
<i class="fab fa-linkedin"></i>
</a>

<!-- X (Twitter) -->
<a style="display: inline-flex; align-items: center; text-decoration: none; color: #000000; font-size: 24px;" href="https://x.com/RevTradingPros" target="_blank" rel="noopener noreferrer" aria-label="X">
<i class="fab fa-x-twitter"></i>
</a>

<!-- YouTube -->
<a style="display: inline-flex; align-items: center; text-decoration: none; color: #ff0000; font-size: 24px;" href="https://bit.ly/3YmfilF" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
<i class="fab fa-youtube"></i>
</a>

<!-- Facebook -->
<a style="display: inline-flex; align-items: center; text-decoration: none; color: #1877f2; font-size: 24px;" href="https://bit.ly/3OJ9z6g" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
<i class="fab fa-facebook"></i>
</a>

<!-- Instagram -->
<a style="display: inline-flex; align-items: center; text-decoration: none; color: #e4405f; font-size: 24px;" href="https://bit.ly/3KW0zsb" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
<i class="fab fa-instagram"></i>
</a>
</div>${audioHTML}
<div style="background-color: #f7faff; border: 1px solid #cce0ff; padding: 20px 25px; margin: 30px 0; border-radius: 12px;">
<h3 style="margin-top: 0;"><span style="color: #333333; font-family: Montserrat;">Billy's Key Takeaways</span></h3>
<p style="font-style: italic; margin-bottom: 15px;"><span style="color: #333333; font-family: Montserrat;">"After 15+ years of trading and mentoring thousands of traders, here's what I wish every trader understood from day one:"</span></p>

<ul>
`;

            // Add takeaways
            for (let i = 1; i <= 6; i++) {
                const takeaway = tags[`TAKEAWAY_${i}`];
                if (takeaway) {
                    const parts = takeaway.split(' | ');
                    html += ` 	<li><span style="color: #333333; font-family: Montserrat;"><strong>${parts[0]}</strong> ${parts[1] || ''}</span></li>\n`;
                }
            }
            
            html += `</ul>
</div>
`;

            // Add main content sections with image placeholders and Billy's Takes
            for (let i = 1; i <= 5; i++) {
                const h2 = tags[`SECTION_${i}_H2`];
                const content = tags[`SECTION_${i}_CONTENT`];
                if (h2 && content) {
                    html += `<h2 style="margin-top: 40px;"><span style="color: #333333; font-family: Montserrat;">${h2}</span></h2>
${processSection(content)}

<!-- RECOMMENDED IMAGE ${i} -->
<div style="background: #f0f0f0; border: 2px dashed #666; padding: 20px; margin: 30px 0; text-align: center; border-radius: 8px;">
    <p style="font-weight: bold; color: #333;">üì∑ RECOMMENDED IMAGE ${i}</p>
    <p style="color: #666;">Title: ${h2 || 'Section ' + i + ' Image'}</p>
    <p style="color: #666;">Alt Text: ${slug}-section-${i}</p>
    <p style="color: #666; font-style: italic;">Description: Create a chart, screenshot, or infographic that illustrates the concepts discussed in this section</p>
</div>
`;
                    
                    // Add Billy's Take after sections 2, 3, and 4
                    if (i >= 2 && i <= 4) {
                        const takeIndex = i - 1;
                        const take = tags[`BILLY_TAKE_${takeIndex}`];
                        if (take) {
                            html += `<div style="background-color: #f7f7f7; border-left: 4px solid #3366ff; padding: 15px; margin: 20px 0; font-style: italic; border-radius: 8px;">
    <span style="color: #333333; font-family: Montserrat;"><strong>Billy's Take:</strong></span>
    <span style="color: #333333; font-family: Montserrat;">"${take}"</span>
</div>
`;
                        }
                    }
                }
            }

            // Add Deep Dive if present
            if (tags.BILLY_DEEP_DIVE) {
                html += `<div style="background-color: #f7faff; border: 1px solid #cce0ff; border-left: 4px solid #3366ff; padding: 20px 25px; margin: 30px 0; border-radius: 15px;">
    <h3 style="margin-top: 0;"><span style="color: #333333; font-family: Montserrat;">Billy's Deep Dive</span></h3>
    <span style="color: #333333; font-family: Montserrat;">${tags.BILLY_DEEP_DIVE}</span>
</div>
`;
            }

            // Add Critical Warning if present
            if (tags.CRITICAL_WARNING) {
                const [title, message] = tags.CRITICAL_WARNING.split(' | ');
                html += `<div style="background-color: #fffbe6; border-left: 4px solid #c0392b; padding: 15px; margin: 20px 0; font-style: italic; border-radius: 8px;">
    <p style="color: #c0392b; font-weight: bold; margin: 0;">
        <span style="color: #333333; font-family: Montserrat;">‚ö†Ô∏è ${title}: ${message}</span>
    </p>
</div>
`;
            }

            // Add Personal Evolution if present
            if (tags.PERSONAL_EVOLUTION) {
                html += `<div style="background-color: #f7faff; border: 1px solid #cce0ff; border-left: 4px solid #3366ff; padding: 20px 25px; margin: 30px 0; border-radius: 15px;">
    <h3 style="margin-top: 0;"><span style="color: #333333; font-family: Montserrat;">My Personal Evolution</span></h3>
    <span style="color: #333333; font-family: Montserrat;">${tags.PERSONAL_EVOLUTION}</span>
</div>
`;
            }

            // Add Continue Your Learning section
            html += `<h2><span style="color: #333333; font-family: Montserrat;">Continue Your Learning</span></h2>
<div style="display: flex; flex-direction: column; gap: 20px; margin-bottom: 30px;">
<a href="https://revolutiontradingpros.com/risk-management-essentials/" style="text-decoration: none; color: inherit;">
<div style="display: flex; gap: 15px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer; align-items: center;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.15)'; this.style.borderColor='#c0392b'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<span style="color: #333333;"><img style="width: 100px; height: 100px; border-radius: 6px;" src="https://placehold.co/100x100/c0392b/ffffff?text=Risk" alt="Risk Management Essentials" /></span>
<div style="flex: 1;">
<h3 style="margin: 0 0 8px 0; color: #333; font-size: 1.2em;"><span style="color: #333333;">Risk Management Essentials for Active Traders</span></h3>
<p style="margin: 0; color: #666; font-size: 0.95em; line-height: 1.5;"><span style="color: #333333;">Learn the core principles of risk management, including position sizing and setting effective stop-losses to protect your capital.</span></p>
</div>
</div>
</a>
<a href="https://revolutiontradingpros.com/technical-analysis-introduction/" style="text-decoration: none; color: inherit;">
<div style="display: flex; gap: 15px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer; align-items: center;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.15)'; this.style.borderColor='#3366ff'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<span style="color: #333333;"><img style="width: 100px; height: 100px; border-radius: 6px;" src="https://placehold.co/100x100/3366ff/ffffff?text=Tech" alt="Technical Analysis" /></span>
<div style="flex: 1;">
<h3 style="margin: 0 0 8px 0; color: #333; font-size: 1.2em;"><span style="color: #333333;">An Introduction to Technical Analysis</span></h3>
<p style="margin: 0; color: #666; font-size: 0.95em; line-height: 1.5;"><span style="color: #333333;">Discover how to read charts, identify trends, and use technical indicators to improve your trade timing and execution.</span></p>
</div>
</div>
</a>
<a href="https://revolutiontradingpros.com/trading-psychology/" style="text-decoration: none; color: inherit;">
<div style="display: flex; gap: 15px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.3s ease; cursor: pointer; align-items: center;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.15)'; this.style.borderColor='#27ae60'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'; this.style.borderColor='#e0e0e0'">
<span style="color: #333333;"><img style="width: 100px; height: 100px; border-radius: 6px;" src="https://placehold.co/100x100/27ae60/ffffff?text=Mind" alt="Trading Psychology" /></span>
<div style="flex: 1;">
<h3 style="margin: 0 0 8px 0; color: #333; font-size: 1.2em;"><span style="color: #333333;">The Psychology of Successful Trading</span></h3>
<p style="margin: 0; color: #666; font-size: 0.95em; line-height: 1.5;"><span style="color: #333333;">Master the mental game of trading by understanding emotional control, discipline, and the psychological factors that impact trading decisions.</span></p>
</div>
</div>
</a>
</div>

<!-- RECOMMENDED EXTERNAL RESOURCES TABLE -->
<h2 style="margin-top: 40px;"><span style="color: #333333; font-family: Montserrat;">Recommended External Resources</span></h2>
<table style="width: 100%; border-collapse: collapse; margin: 25px 0; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
<thead style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
<tr>
<th style="border: 1px solid #dddddd; text-align: left; padding: 15px; font-weight: 600;"><span style="color: #333333; font-family: Montserrat;">Topic</span></th>
<th style="border: 1px solid #dddddd; text-align: left; padding: 15px; font-weight: 600;"><span style="color: #333333; font-family: Montserrat;">Resource</span></th>
<th style="border: 1px solid #dddddd; text-align: left; padding: 15px; font-weight: 600;"><span style="color: #333333; font-family: Montserrat;">Why It Matters</span></th>
</tr>
</thead>
<tbody>
<tr style="transition: background-color 0.2s ease;">
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #333333; font-family: Montserrat;"><strong>Official Education</strong></span></td>
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #3366ff; font-family: Montserrat;"><a style="color: #3366ff; text-decoration: none; font-weight: 500;" href="https://www.cboe.com/education/" target="_blank" rel="noopener noreferrer">CBOE Options Institute</a></span></td>
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #333333; font-family: Montserrat;">Free comprehensive options education from the largest U.S. options exchange.</span></td>
</tr>
<tr style="transition: background-color 0.2s ease;">
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #333333; font-family: Montserrat;"><strong>Regulatory Guidance</strong></span></td>
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #3366ff; font-family: Montserrat;"><a style="color: #3366ff; text-decoration: none; font-weight: 500;" href="https://www.sec.gov/education" target="_blank" rel="noopener noreferrer">SEC Investor Education</a></span></td>
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #333333; font-family: Montserrat;">Understanding trading regulations and investor protection from the official source.</span></td>
</tr>
<tr style="transition: background-color 0.2s ease;">
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #333333; font-family: Montserrat;"><strong>Market Data</strong></span></td>
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #3366ff; font-family: Montserrat;"><a style="color: #3366ff; text-decoration: none; font-weight: 500;" href="https://www.cmegroup.com/education.html" target="_blank" rel="noopener noreferrer">CME Group Education</a></span></td>
<td style="border: 1px solid #dddddd; text-align: left; padding: 15px;"><span style="color: #333333; font-family: Montserrat;">Learn about futures markets and market mechanics from the world's leading derivatives marketplace.</span></td>
</tr>
</tbody>
</table>

<!-- FAQ Section -->
<h2 style="margin-top: 40px;"><span style="color: #333333; font-family: Montserrat;">Frequently Asked Questions</span></h2>
`;
            
            // Add FAQ items
            for (let i = 1; i <= 10; i++) {
                const q = tags[`FAQ_Q${i}`];
                const a = tags[`FAQ_A${i}`];
                if (q && a) {
                    html += `<span style="color: #333333; font-family: Montserrat;"><strong>Q: ${q}</strong></span>
<span style="color: #333333; font-family: Montserrat;">A: ${a}</span>

`;
                }
            }

            // Newsletter signup
            html += `<h3 style="text-align: center;"><span style="color: #333333; font-family: Montserrat; font-size: 24px;">Get Our Trading Cheat Sheet Direct to Your Inbox</span></h3>
<span style="color: #333333;">[elementor-template id="44911"]</span>

<!-- Share This Post Section -->
<div style="margin: 40px auto; max-width: 800px; padding: 30px; background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 15px; border: 1px solid #e0e0e0; text-align: center;">
<h3 style="margin: 0 0 10px 0; color: #333333; font-family: Montserrat; font-size: 1.3em;">Found this helpful? Share it with fellow traders!</h3>
<p style="margin: 0 0 25px 0; color: #666; font-family: Montserrat; font-size: 0.9em;">Help others improve their trading</p>

<div style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; align-items: center;">
<a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #000000; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" href="https://twitter.com/intent/tweet?text=${encodeURIComponent(tags.TITLE || 'Check this out')}&amp;url=https://revolutiontradingpros.com/${slug}/" target="_blank" rel="noopener noreferrer" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 16px rgba(0,0,0,0.2)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
<span style="font-size: 16px; line-height: 1;">ùïè</span> Share on X
</a>
<a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #0077b5; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" href="https://www.linkedin.com/sharing/share-offsite/?url=https://revolutiontradingpros.com/${slug}/" target="_blank" rel="noopener noreferrer" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 16px rgba(0,119,181,0.3)'; this.style.backgroundColor='#005885'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.backgroundColor='#0077b5'">
<span style="font-size: 16px; font-weight: bold; line-height: 1;">in</span> Share on LinkedIn
</a>
<a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #1877f2; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" href="https://www.facebook.com/sharer/sharer.php?u=https://revolutiontradingpros.com/${slug}/" target="_blank" rel="noopener noreferrer" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 16px rgba(24,119,242,0.3)'; this.style.backgroundColor='#1264d1'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.backgroundColor='#1877f2'">
<span style="font-size: 16px; font-weight: bold; line-height: 1;">f</span> Share on Facebook
</a>
<a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #6c757d; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" href="mailto:?subject=${encodeURIComponent(tags.TITLE || 'Check this out')}&amp;body=Check%20out%20this%20article:%20https://revolutiontradingpros.com/${slug}/" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 16px rgba(108,117,125,0.3)'; this.style.backgroundColor='#5a6268'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.backgroundColor='#6c757d'">
‚úâ Email to a Friend
</a>
<a style="display: inline-flex; align-items: center; justify-content: center; gap: 6px; padding: 12px 20px; background-color: #3366ff; color: #ffffff; text-decoration: none; border-radius: 8px; font-family: Montserrat; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; min-width: 180px; height: 44px; box-sizing: border-box;" href="javascript:void(0);" onclick="prompt('Copy this link:', 'https://revolutiontradingpros.com/${slug}/')" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 16px rgba(51,102,255,0.3)'; this.style.backgroundColor='#2952cc'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.backgroundColor='#3366ff'">
üîó Copy Link
</a>
</div>
</div>

<!-- CTA Section with light gray background -->
<div style="margin-top: 40px; padding: 30px 20px; background-color: #f8f9fa; border-radius: 20px;">
<h2 style="text-align: center;"><span style="color: #333333;">Start Trading Like a Professional</span></h2>
<p style="text-align: center; color: #333333; max-width: 800px; margin: 0 auto 10px;">Ready to start trading like a professional? Join our community for in-depth analysis, expert strategy and live trading. Sign up today to start trading with a real edge!</p>
<!-- Trading Room Cards - EXACT COPY -->
${TRADING_ROOM_CARDS}
</div>
<!-- END of gray background section -->

<!-- Critical warning on WHITE background -->
<div style="border: 1px solid #ccc; padding: 15px; margin-top: 40px; background-color: #fafafa; border-radius: 8px;">
<p style="font-size: 0.9em; color: #555; text-align: center; margin: 0;"><span style="color: #333333;"><strong>CRITICAL:</strong> Trading involves substantial risk of loss and is not suitable for all investors. The content of this article is for educational purposes only and is not a recommendation to buy or sell any security. All trading strategies are used at your own risk.</span></p>
</div>

<!-- Logo on WHITE background -->
<p style="text-align: center; margin-top: 30px;"><span style="color: #333333;"><img src="https://revolutiontradingpros.com/wp-content/uploads/2024/12/50baa458abe39958a6c1330df9ae980c-300x79.png" alt="Revolution Trading Pros Logo" width="300" height="79" /></span></p>

</div>`;

            document.getElementById('htmlOutput').value = html;
            document.getElementById('phase2Output').classList.add('show');
            document.getElementById('phase2Output').scrollIntoView({ behavior: 'smooth' });
            
            const statusMsg = audioUrl ? 
                'Complete HTML generated with ALL sections included!' : 
                'Complete HTML generated with ALL sections! (Consider adding audio for better engagement)';
            
            showStatus('phase2Status', 'success', statusMsg);
            document.getElementById('phase2Badge').style.display = 'inline';
            
            autoSave();
        }

        // Copy content
        function copyContent(elementId) {
            const textarea = document.getElementById(elementId);
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                const message = elementId === 'promptOutput' ? 
                    'Prompt copied! Paste into Claude.ai' : 
                    'HTML copied! Paste into WordPress';
                showStatus(elementId === 'promptOutput' ? 'phase1Status' : 'phase2Status', 'success', message);
            } catch (err) {
                alert('Please select and copy manually');
            }
        }

        // Preview HTML
        function previewHTML() {
            const html = document.getElementById('htmlOutput').value;
            if (!html) {
                showStatus('phase2Status', 'error', 'Generate HTML first');
                return;
            }
            
            const previewFrame = document.getElementById('previewFrame');
            previewFrame.innerHTML = html;
            document.getElementById('previewModal').classList.add('show');
        }

        function closePreview() {
            document.getElementById('previewModal').classList.remove('show');
        }

        // Download functions
        function downloadPrompt() {
            const content = document.getElementById('promptOutput').value;
            downloadFile(content, 'athena-prompt.txt', 'text/plain');
        }

        function downloadHTML() {
            const html = document.getElementById('htmlOutput').value;
            downloadFile(html, 'blog-post.html', 'text/html');
        }

        function downloadFile(content, filename, type) {
            const blob = new Blob([content], { type });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
            
            showStatus('phase2Status', 'success', `${filename} downloaded!`);
        }

        // Save/Load Draft Functions
        function saveDraft() {
            const draftName = prompt('Enter a name for this draft:');
            if (!draftName) return;
            
            const draft = {
                name: draftName,
                date: new Date().toISOString(),
                topic: document.getElementById('topic').value,
                keyword: document.getElementById('keyword').value,
                searchIntent: document.getElementById('searchIntent').value,
                competitorUrls: document.getElementById('competitorUrls').value,
                targetLength: document.getElementById('targetLength').value,
                taggedContent: document.getElementById('taggedContent').value,
                metaDescription: document.getElementById('metaDescription').value,
                slug: document.getElementById('slug').value,
                audioUrl: document.getElementById('audioUrl').value,
                promptOutput: document.getElementById('promptOutput').value,
                htmlOutput: document.getElementById('htmlOutput').value
            };
            
            const drafts = JSON.parse(localStorage.getItem('athenaDrafts') || '[]');
            drafts.push(draft);
            localStorage.setItem('athenaDrafts', JSON.stringify(drafts));
            
            showStatus('phase1Status', 'success', 'Draft saved successfully!');
            updateDraftsList();
        }

        function quickSave() {
            autoSave();
            showStatus('phase1Status', 'success', 'Auto-save completed!');
        }

        function autoSave() {
            const autoSave = {
                topic: document.getElementById('topic').value,
                keyword: document.getElementById('keyword').value,
                searchIntent: document.getElementById('searchIntent').value,
                competitorUrls: document.getElementById('competitorUrls').value,
                targetLength: document.getElementById('targetLength').value,
                taggedContent: document.getElementById('taggedContent').value,
                metaDescription: document.getElementById('metaDescription').value,
                slug: document.getElementById('slug').value,
                audioUrl: document.getElementById('audioUrl').value
            };
            
            localStorage.setItem('athenaAutoSave', JSON.stringify(autoSave));
        }

        function loadAutoSave() {
            const autoSave = JSON.parse(localStorage.getItem('athenaAutoSave') || '{}');
            
            if (autoSave.topic) document.getElementById('topic').value = autoSave.topic;
            if (autoSave.keyword) document.getElementById('keyword').value = autoSave.keyword;
            if (autoSave.searchIntent) document.getElementById('searchIntent').value = autoSave.searchIntent;
            if (autoSave.competitorUrls) document.getElementById('competitorUrls').value = autoSave.competitorUrls;
            if (autoSave.targetLength) document.getElementById('targetLength').value = autoSave.targetLength;
            if (autoSave.taggedContent) document.getElementById('taggedContent').value = autoSave.taggedContent;
            if (autoSave.metaDescription) document.getElementById('metaDescription').value = autoSave.metaDescription;
            if (autoSave.slug) document.getElementById('slug').value = autoSave.slug;
            if (autoSave.audioUrl) document.getElementById('audioUrl').value = autoSave.audioUrl;
        }

        function showDrafts() {
            switchPhase('phase3', { target: document.querySelectorAll('.phase-tab')[2] });
        }

        function updateDraftsList() {
            const drafts = JSON.parse(localStorage.getItem('athenaDrafts') || '[]');
            const draftsList = document.getElementById('draftsList');
            
            if (drafts.length === 0) {
                draftsList.innerHTML = '<p style="color: #666;">No saved drafts yet</p>';
                return;
            }
            
            draftsList.innerHTML = drafts.map((draft, index) => `
                <div class="draft-item">
                    <div>
                        <div class="draft-title">${draft.name}</div>
                        <div class="draft-date">${new Date(draft.date).toLocaleString()}</div>
                    </div>
                    <div class="draft-actions">
                        <button class="draft-btn load-draft" onclick="loadDraft(${index})">Load</button>
                        <button class="draft-btn delete-draft" onclick="deleteDraft(${index})">Delete</button>
                    </div>
                </div>
            `).join('');
        }

        function loadDraft(index) {
            const drafts = JSON.parse(localStorage.getItem('athenaDrafts') || '[]');
            const draft = drafts[index];
            
            if (!draft) return;
            
            document.getElementById('topic').value = draft.topic || '';
            document.getElementById('keyword').value = draft.keyword || '';
            document.getElementById('searchIntent').value = draft.searchIntent || '';
            document.getElementById('competitorUrls').value = draft.competitorUrls || '';
            document.getElementById('targetLength').value = draft.targetLength || '3500';
            document.getElementById('taggedContent').value = draft.taggedContent || '';
            document.getElementById('metaDescription').value = draft.metaDescription || '';
            document.getElementById('slug').value = draft.slug || '';
            document.getElementById('audioUrl').value = draft.audioUrl || '';
            document.getElementById('promptOutput').value = draft.promptOutput || '';
            document.getElementById('htmlOutput').value = draft.htmlOutput || '';
            
            if (draft.promptOutput) {
                document.getElementById('phase1Output').classList.add('show');
            }
            if (draft.htmlOutput) {
                document.getElementById('phase2Output').classList.add('show');
            }
            
            showStatus('phase1Status', 'success', `Draft "${draft.name}" loaded successfully!`);
            switchPhase('phase1', { target: document.querySelectorAll('.phase-tab')[0] });
        }

        function deleteDraft(index) {
            if (!confirm('Are you sure you want to delete this draft?')) return;
            
            const drafts = JSON.parse(localStorage.getItem('athenaDrafts') || '[]');
            drafts.splice(index, 1);
            localStorage.setItem('athenaDrafts', JSON.stringify(drafts));
            
            updateDraftsList();
            showStatus('phase1Status', 'success', 'Draft deleted');
        }

        function clearAll() {
            if (!confirm('This will clear all fields. Are you sure?')) return;
            
            document.querySelectorAll('input[type="text"], input[type="url"], textarea').forEach(field => {
                field.value = '';
            });
            
            document.getElementById('targetLength').value = '3500';
            showStatus('phase1Status', 'info', 'All fields cleared');
        }

        // SEO Analysis
        function analyzeSEO() {
            const html = document.getElementById('htmlOutput').value;
            if (!html) {
                showStatus('phase2Status', 'error', 'Generate HTML first');
                return;
            }
            
            const keyword = document.getElementById('keyword').value.trim().toLowerCase();
            const title = html.match(/<h1[^>]*>.*?<span[^>]*>(.*?)<\/span>/)?.[1] || '';
            
            let score = 0;
            const tips = [];
            
            // Check title
            if (title.toLowerCase().includes(keyword)) {
                score += 20;
                tips.push({ type: 'success', text: '‚úì Keyword in title' });
            } else {
                tips.push({ type: 'error', text: '‚úó Add keyword to title' });
            }
            
            // Check meta description
            const metaDesc = document.getElementById('metaDescription').value;
            if (metaDesc && metaDesc.toLowerCase().includes(keyword)) {
                score += 15;
                tips.push({ type: 'success', text: '‚úì Keyword in meta description' });
            } else {
                tips.push({ type: 'warning', text: '‚ö† Add keyword to meta description' });
            }
            
            // Check content length
            const contentLength = html.length;
            if (contentLength > 10000) {
                score += 20;
                tips.push({ type: 'success', text: '‚úì Comprehensive content length' });
            } else {
                tips.push({ type: 'warning', text: '‚ö† Consider adding more content' });
            }
            
            // Check headings
            const h2Count = (html.match(/<h2/g) || []).length;
            if (h2Count >= 5) {
                score += 15;
                tips.push({ type: 'success', text: `‚úì Good structure with ${h2Count} sections` });
            } else {
                tips.push({ type: 'warning', text: '‚ö† Add more sections for better structure' });
            }
            
            // Check images
            const imageCount = (html.match(/RECOMMENDED IMAGE/g) || []).length;
            if (imageCount >= 3) {
                score += 15;
                tips.push({ type: 'success', text: `‚úì ${imageCount} images planned` });
            } else {
                tips.push({ type: 'warning', text: '‚ö† Consider adding more images' });
            }
            
            // Check FAQ section
            if (html.includes('Frequently Asked Questions')) {
                score += 15;
                tips.push({ type: 'success', text: '‚úì FAQ section included' });
            } else {
                tips.push({ type: 'error', text: '‚úó Add FAQ section' });
            }
            
            // Update UI
            document.getElementById('seoScoreValue').textContent = score;
            document.getElementById('seoScoreLabel').textContent = 
                score >= 80 ? 'Excellent SEO' :
                score >= 60 ? 'Good SEO' :
                'Needs Improvement';
            
            const scoreCircle = document.getElementById('seoScoreCircle');
            scoreCircle.className = 'score-circle ' + 
                (score >= 80 ? 'score-excellent' :
                 score >= 60 ? 'score-good' :
                 'score-poor');
            
            document.getElementById('seoTips').innerHTML = tips.map(tip =>
                `<li class="seo-tip-item tip-${tip.type}">${tip.text}</li>`
            ).join('');
        }

        // Helper functions
        function showHelp() {
            alert(`ATHENA Pro Generator Help

Phase 1: Generate Prompt
- Enter your topic and keyword
- Add optional details for better content
- Generate prompt for Claude.ai

Phase 2: Apply Template  
- Paste tagged content from Claude
- Add meta info and audio
- Generate WordPress-ready HTML

Phase 3: SEO & Preview
- Analyze SEO score
- Preview your post
- Manage saved drafts

Tips:
- Auto-saves every 30 seconds
- Use helper tools for ideas
- Preview before publishing
- All sections are included in output`);
        }

        function showSettings() {
            alert('Settings panel coming soon! For now, all drafts are saved locally in your browser.');
        }

        // Status messages
        function showStatus(elementId, type, message) {
            const statusEl = document.getElementById(elementId);
            statusEl.className = `status show ${type}`;
            statusEl.textContent = message;
            
            setTimeout(() => {
                statusEl.classList.remove('show');
            }, 5000);
        }

        // External links
        function openClaude() {
            window.open('https://claude.ai', '_blank');
        }
    </script>
</body>
</html>
